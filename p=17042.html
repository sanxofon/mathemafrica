<!DOCTYPE html>
<html class="" lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
	
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

	
	
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>CRL Task 3: Counterfactual Decision Making &#8211; Mathemafrica</title>

<link rel="stylesheet" href="/mathemafrica/wp-content/plugins/sitepress-multilingual-cms/res/css/language-selector.css?v=3.3.8" type="text/css" media="all" />
						<script>
							/* You can add more configuration options to webfontloader by previously defining the WebFontConfig with your options */
							if ( typeof WebFontConfig === "undefined" ) {
								WebFontConfig = new Object();
							}
							WebFontConfig['google'] = {families: ['Open+Sans:400', 'Roboto+Condensed:400', 'PT+Sans:700']};

							(function() {
								var wf = document.createElement( 'script' );
								wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1.5.3/webfont.js';
								wf.type = 'text/javascript';
								wf.async = 'true';
								var s = document.getElementsByTagName( 'script' )[0];
								s.parentNode.insertBefore( wf, s );
							})();
						</script>
						<link rel="alternate" type="application/rss+xml" title="Mathemafrica &raquo; Feed" href="/mathemafrica/feed=rss2.xml" />
<link rel="alternate" type="application/rss+xml" title="Mathemafrica &raquo; Comments Feed" href="/mathemafrica/feed=comments-rss2.xml" />
			<!-- For iPad Retina display -->
			<link rel="apple-touch-icon-precomposed" sizes="144x144" href="">
		<link rel="alternate" type="application/rss+xml" title="Mathemafrica &raquo; CRL Task 3: Counterfactual Decision Making Comments Feed" href="/mathemafrica/feed=rss2&#038;p=17042.xml" />

		<meta property="og:title" content="CRL Task 3: Counterfactual Decision Making"/>
		<meta property="og:type" content="article"/>
		<meta property="og:url" content="/mathemafrica/p=17042.html"/>
		<meta property="og:site_name" content="Mathemafrica"/>
		<meta property="og:description" content="In the previous blog post we discussed some theory of how to select optimal and possibly optimal interventions in a causal framework. For those interested in the decision science, this blog post may be more inspiring. This next task involves applying counterfactual quantities to boost learning performance. This is clearly very important for an RL"/>

									<meta property="og:image" content="/mathemafrica/wp-content/uploads/2021/07/Counterfactual.jpg?fit=1121%2C614"/>
							<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"\/mathemafrica\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.33"}};
			!function(e,n,t){var a;function i(e){var t=n.createElement("canvas"),a=t.getContext&&t.getContext("2d"),i=String.fromCharCode;return!(!a||!a.fillText)&&(a.textBaseline="top",a.font="600 32px Arial","flag"===e?(a.fillText(i(55356,56806,55356,56826),0,0),3e3<t.toDataURL().length):"diversity"===e?(a.fillText(i(55356,57221),0,0),t=a.getImageData(16,16,1,1).data,a.fillText(i(55356,57221,55356,57343),0,0),(t=a.getImageData(16,16,1,1).data)[0],t[1],t[2],t[3],!0):("simple"===e?a.fillText(i(55357,56835),0,0):a.fillText(i(55356,57135),0,0),0!==a.getImageData(16,16,1,1).data[0]))}function o(e){var t=n.createElement("script");t.src=e,t.type="text/javascript",n.getElementsByTagName("head")[0].appendChild(t)}t.supports={simple:i("simple"),flag:i("flag"),unicode8:i("unicode8"),diversity:i("diversity")},t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.simple&&t.supports.flag&&t.supports.unicode8&&t.supports.diversity||(a=function(){t.readyCallback()},n.addEventListener?(n.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1)):(e.attachEvent("onload",a),n.attachEvent("onreadystatechange",function(){"complete"===n.readyState&&t.readyCallback()})),(a=t.source||{}).concatemoji?o(a.concatemoji):a.wpemoji&&a.twemoji&&(o(a.twemoji),o(a.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='layerslider-css'  href='/mathemafrica/wp-content/plugins/LayerSlider/static/css/layerslider.css?ver=5.5.1' type='text/css' media='all' />
<link rel='stylesheet' id='ls-google-fonts-css'  href='http://fonts.googleapis.com/css?family=Lato:100,300,regular,700,900%7COpen+Sans:300%7CIndie+Flower:regular%7COswald:300,regular,700&#038;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='rw-site-rating-css'  href='/mathemafrica/wp-content/plugins/rating-widget/resources/css/site-rating.css?ver=2.8.1' type='text/css' media='all' />
<link rel='stylesheet' id='rs-plugin-settings-css'  href='/mathemafrica/wp-content/plugins/revslider/rs-plugin/css/settings.css?ver=4.6.93' type='text/css' media='all' />
<style id='rs-plugin-settings-inline-css' type='text/css'>
.avada_huge_white_text{position:absolute; color:#ffffff; font-size:130px; line-height:45px; font-family:museoslab500regular;   text-shadow:0px 2px 5px rgba(0,0,0,1)}.avada_huge_black_text{position:absolute; color:#000000; font-size:130px; line-height:45px; font-family:museoslab500regular}.avada_big_black_text{position:absolute; color:#333333; font-size:42px; line-height:45px; font-family:museoslab500regular}.avada_big_white_text{position:absolute; color:#fff; font-size:42px; line-height:45px; font-family:museoslab500regular}.avada_big_black_text_center{position:absolute; color:#333333; font-size:38px; line-height:45px; font-family:museoslab500regular;   text-align:center}.avada_med_green_text{position:absolute; color:#A0CE4E; font-size:24px; line-height:24px; font-family:PTSansRegular,Arial,Helvetica,sans-serif}.avada_small_gray_text{position:absolute; color:#747474; font-size:13px; line-height:20px; font-family:PTSansRegular,Arial,Helvetica,sans-serif}.avada_small_white_text{position:absolute; color:#fff; font-size:13px; line-height:20px; font-family:PTSansRegular,Arial,Helvetica,sans-serif;  text-shadow:0px 2px 5px rgba(0,0,0,0.5); font-weight:700}.avada_block_black{position:absolute; color:#A0CE4E; text-shadow:none; font-size:22px; line-height:34px; padding:0px 10px; padding-top:1px;margin:0px; border-width:0px; border-style:none; background-color:#000;font-family:PTSansRegular,Arial,Helvetica,sans-serif}.avada_block_green{position:absolute; color:#000; text-shadow:none; font-size:22px; line-height:34px; padding:0px 10px; padding-top:1px;margin:0px; border-width:0px; border-style:none; background-color:#A0CE4E;font-family:PTSansRegular,Arial,Helvetica,sans-serif}.avada_block_white{position:absolute; color:#fff; text-shadow:none; font-size:22px; line-height:34px; padding:0px 10px; padding-top:1px;margin:0px; border-width:0px; border-style:none; background-color:#000;font-family:PTSansRegular,Arial,Helvetica,sans-serif}.avada_block_white_trans{position:absolute; color:#fff; text-shadow:none; font-size:22px; line-height:34px; padding:0px 10px; padding-top:1px;margin:0px; border-width:0px; border-style:none; background-color:rgba(0,0,0,0.6);  font-family:PTSansRegular,Arial,Helvetica,sans-serif}.tp-caption a{color:#ff7302;text-shadow:none;-webkit-transition:all 0.2s ease-out;-moz-transition:all 0.2s ease-out;-o-transition:all 0.2s ease-out;-ms-transition:all 0.2s ease-out}.tp-caption a:hover{color:#ffa902}
</style>
<link rel='stylesheet' id='avada-stylesheet-css'  href='/mathemafrica/wp-content/themes/Avada/style.css?ver=4.0.2' type='text/css' media='all' />
<link rel='stylesheet' id='fontawesome-css'  href='/mathemafrica/wp-content/themes/Avada/assets/fonts/fontawesome/font-awesome.css?ver=4.0.2' type='text/css' media='all' />


<link rel='stylesheet' id='avada-iLightbox-css'  href='/mathemafrica/wp-content/themes/Avada/ilightbox.css?ver=4.0.2' type='text/css' media='all' />
<link rel='stylesheet' id='avada-animations-css'  href='/mathemafrica/wp-content/themes/Avada/animations.css?ver=4.0.2' type='text/css' media='all' />
<link rel='stylesheet' id='rw_toprated-css'  href='http://css.rating-widget.com/wordpress/toprated.css?ck=Y2025M03D21&#038;ver=2.8.1' type='text/css' media='all' />
<link rel='stylesheet' id='rw_recommendations-css'  href='http://css.rating-widget.com/widget/recommendations.css?ck=Y2025M03D21&#038;ver=2.8.1' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='/mathemafrica/wp-content/plugins/jetpack/_inc/genericons/genericons/genericons.css?ver=3.1' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='/mathemafrica/wp-content/plugins/jetpack/css/jetpack.css?ver=4.0.7' type='text/css' media='all' />
<link rel='stylesheet' id='tswStyleSheets-css'  href='/mathemafrica/wp-content/plugins/traffic-stats-widget/tsw-styles.css?ver=4.4.33' type='text/css' media='all' />
<script type='text/javascript' src='/mathemafrica/wp-content/plugins/traffic-stats-widget/wp-tsw-ajax.js?ver=4.4.33'></script>
<script type='text/javascript' src='/mathemafrica/wp-includes/js/jquery/jquery.js?ver=1.11.3'></script>
<script type='text/javascript' src='/mathemafrica/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='/mathemafrica/wp-content/plugins/LayerSlider/static/js/greensock.js?ver=1.11.8'></script>
<script type='text/javascript' src='/mathemafrica/wp-content/plugins/LayerSlider/static/js/layerslider.kreaturamedia.jquery.js?ver=5.5.1'></script>
<script type='text/javascript' src='/mathemafrica/wp-content/plugins/LayerSlider/static/js/layerslider.transitions.js?ver=5.5.1'></script>
<script type='text/javascript' src='/mathemafrica/wp-content/plugins/revslider/rs-plugin/js/jquery.themepunch.tools.min.js?ver=4.6.93'></script>
<script type='text/javascript' src='/mathemafrica/wp-content/plugins/revslider/rs-plugin/js/jquery.themepunch.revolution.min.js?ver=4.6.93'></script>
<link rel='https://api.w.org/' href='/mathemafrica/rest_route.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/mathemafrica/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/mathemafrica/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.4.33" />
<link rel="canonical" href="/mathemafrica/p=17042.html" />
<link rel='shortlink' href='http://wp.me/p6ysha-4qS' />
<link rel="alternate" type="application/json+oembed" href="/mathemafrica/rest_route=%2Foembed%2F1.0%2Fembed&#038;url=http%3A%2F%2Fwww.mathemafrica.org%2F%3Fp%3D17042.html" />
<link rel="alternate" type="text/xml+oembed" href="/mathemafrica/rest_route=%2Foembed%2F1.0%2Fembed&#038;url=http%3A%2F%2Fwww.mathemafrica.org%2F%3Fp%3D17042&.html#038;format=xml" />
		<script type="text/javascript">
			jQuery(document).ready(function() {
				// CUSTOM AJAX CONTENT LOADING FUNCTION
				var ajaxRevslider = function(obj) {
				
					// obj.type : Post Type
					// obj.id : ID of Content to Load
					// obj.aspectratio : The Aspect Ratio of the Container / Media
					// obj.selector : The Container Selector where the Content of Ajax will be injected. It is done via the Essential Grid on Return of Content
					
					var content = "";

					data = {};
					
					data.action = 'revslider_ajax_call_front';
					data.client_action = 'get_slider_html';
					data.token = '58f5fd2ce6';
					data.type = obj.type;
					data.id = obj.id;
					data.aspectratio = obj.aspectratio;
					
					// SYNC AJAX REQUEST
					jQuery.ajax({
						type:"post",
						url:"/mathemafrica/wp-admin/admin-ajax.php",
						dataType: 'json',
						data:data,
						async:false,
						success: function(ret, textStatus, XMLHttpRequest) {
							if(ret.success == true)
								content = ret.data;								
						},
						error: function(e) {
							console.log(e);
						}
					});
					
					 // FIRST RETURN THE CONTENT WHEN IT IS LOADED !!
					 return content;						 
				};
				
				// CUSTOM AJAX FUNCTION TO REMOVE THE SLIDER
				var ajaxRemoveRevslider = function(obj) {
					return jQuery(obj.selector+" .rev_slider").revkill();
				};

				// EXTEND THE AJAX CONTENT LOADING TYPES WITH TYPE AND FUNCTION
				var extendessential = setInterval(function() {
					if (jQuery.fn.tpessential != undefined) {
						clearInterval(extendessential);
						if(typeof(jQuery.fn.tpessential.defaults) !== 'undefined') {
							jQuery.fn.tpessential.defaults.ajaxTypes.push({type:"revslider",func:ajaxRevslider,killfunc:ajaxRemoveRevslider,openAnimationSpeed:0.3});   
							// type:  Name of the Post to load via Ajax into the Essential Grid Ajax Container
							// func: the Function Name which is Called once the Item with the Post Type has been clicked
							// killfunc: function to kill in case the Ajax Window going to be removed (before Remove function !
							// openAnimationSpeed: how quick the Ajax Content window should be animated (default is 0.3)
						}
					}
				},30);
			});
		</script>
		<meta name="generator" content="WPML ver:3.3.8 stt:1,4,5,65,62;" />

<link rel='dns-prefetch' href='//v0.wordpress.com'>
<link rel='dns-prefetch' href='//i0.wp.com'>
<link rel='dns-prefetch' href='//i1.wp.com'>
<link rel='dns-prefetch' href='//i2.wp.com'>
<link rel='dns-prefetch' href='//jetpack.wordpress.com'>
<link rel='dns-prefetch' href='//s0.wp.com'>
<link rel='dns-prefetch' href='//s1.wp.com'>
<link rel='dns-prefetch' href='//s2.wp.com'>
<link rel='dns-prefetch' href='//public-api.wordpress.com'>
<link rel='dns-prefetch' href='//0.gravatar.com'>
<link rel='dns-prefetch' href='//1.gravatar.com'>
<link rel='dns-prefetch' href='//2.gravatar.com'>
<link rel="stylesheet" href="avada-stylesheet-inline.css" type="text/css" media="all" />

	<script type="text/javascript">
		var doc = document.documentElement;
		doc.setAttribute('data-useragent', navigator.userAgent);
	</script>

	
	</head>
<body class="single single-post postid-17042 single-format-standard fusion-body no-mobile-sticky-header no-mobile-slidingbar layout-wide-mode has-sidebar menu-text-align-left mobile-menu-design-classic fusion-image-hovers fusion-show-pagination-text">
				<div id="wrapper" class="">
		<div id="home" style="position:relative;top:1px;"></div>
				
				
		<div id="sliders-container">
					</div>
				
			<div class="fusion-header-wrapper">
				<div class="fusion-header-v1 fusion-logo-left fusion-sticky-menu-1 fusion-sticky-logo- fusion-mobile-logo- fusion-mobile-menu-design-classic ">
					<div class="fusion-header-sticky-height"></div>
<div class="fusion-header">
	<div class="fusion-row">
		<div class="fusion-logo" data-margin-top="31px" data-margin-bottom="31px" data-margin-left="0px" data-margin-right="0px">
				<a class="fusion-logo-link" href="/mathemafrica/">
						<img src="/mathemafrica/wp-content/uploads/2015/06/mathemafirca-logo-2.jpg" width="300" height="45" alt="Mathemafrica" class="fusion-logo-1x fusion-standard-logo" />

															<img src="/mathemafrica/wp-content/uploads/2015/06/mathem-x2.png" width="300" height="45" alt="Mathemafrica" style="max-height: 45px; height: auto;" class="fusion-standard-logo fusion-logo-2x" />
			
			<!-- mobile logo -->
			
			<!-- sticky header logo -->
					</a>
		</div>
		<div class="fusion-main-menu"><ul id="menu-main-menu" class="fusion-menu"><li  id="menu-item-10636"  class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10636"  ><a  href="/mathemafrica/"><span class="menu-text">Home</span></a></li><li  id="menu-item-10638"  class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10638"  ><a  href="/mathemafrica/page_id=69.html"><span class="menu-text">About</span></a></li><li  id="menu-item-10639"  class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-10639"  ><a  href="/mathemafrica/page_id=9813.html"><span class="menu-text">Blog</span></a></li><li  id="menu-item-10637"  class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10637"  ><a  href="/mathemafrica/page_id=86.html"><span class="menu-text">Contact Us</span></a></li><li class="fusion-custom-menu-item fusion-main-menu-search"><a class="fusion-main-menu-icon"></a><div class="fusion-custom-menu-item-contents"><form role="search" class="searchform" method="get" action="/mathemafrica/">
	<div class="search-table">
		<div class="search-field">
			<input type="text" value="" name="s" class="s" placeholder="Search ..." />
		</div>
		<div class="search-button">
			<input type="submit" class="searchsubmit" value="&#xf002;" />
		</div>
	</div>
<input type='hidden' name='lang' value='en' /></form>
</div></li></ul></div><div class="fusion-main-menu fusion-sticky-menu"><ul id="menu-main-menu-1" class="fusion-menu"><li   class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10636"  ><a  href="/mathemafrica/"><span class="menu-text">Home</span></a></li><li   class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10638"  ><a  href="/mathemafrica/page_id=69.html"><span class="menu-text">About</span></a></li><li   class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-10639"  ><a  href="/mathemafrica/page_id=9813.html"><span class="menu-text">Blog</span></a></li><li   class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10637"  ><a  href="/mathemafrica/page_id=86.html"><span class="menu-text">Contact Us</span></a></li><li class="fusion-custom-menu-item fusion-main-menu-search"><a class="fusion-main-menu-icon"></a><div class="fusion-custom-menu-item-contents"><form role="search" class="searchform" method="get" action="/mathemafrica/">
	<div class="search-table">
		<div class="search-field">
			<input type="text" value="" name="s" class="s" placeholder="Search ..." />
		</div>
		<div class="search-button">
			<input type="submit" class="searchsubmit" value="&#xf002;" />
		</div>
	</div>
<input type='hidden' name='lang' value='en' /></form>
</div></li></ul></div>	

<div class="fusion-mobile-nav-holder"></div>

	<div class="fusion-mobile-nav-holder fusion-mobile-sticky-nav-holder"></div>
	</div>
</div>
				</div>
				<div class="fusion-clearfix"></div>
			</div>
			
							
		
		
						<div id="main" class="clearfix " style="">
			<div class="fusion-row" style="">

<div id="content" style="float: left;">

			<div class="single-navigation clearfix">
			<a href="/mathemafrica/p=17025.html" rel="prev">Previous</a>			<a href="/mathemafrica/p=17096.html" rel="next">Next</a>		</div>
	
			<div id="post-17042" class="post post-17042 type-post status-publish format-standard has-post-thumbnail hentry category-english category-level-intermediate-2 category-uncategorized tag-causal-inference tag-machine-learning tag-reinforcement-learning tag-statistics">
																					<div class="fusion-flexslider flexslider fusion-flexslider-loading post-slideshow fusion-post-slideshow">
							<ul class="slides">
																																																																																										<li>
																					<a href="/mathemafrica/wp-content/uploads/2021/07/Counterfactual.jpg?fit=1121%2C614" data-rel="iLightbox[gallery17042]" title="" data-title="Counterfactual" data-caption="">
												<span class="screen-reader-text">View Larger Image</span>
												<img src="/mathemafrica/wp-content/uploads/2021/07/Counterfactual.jpg?fit=1121%2C614" alt="" role="presentation" />
											</a>
																			</li>
																																																																																																																																																																											</ul>
						</div>
												
							<h2 class="entry-title">CRL Task 3: Counterfactual Decision Making</h2>			
			<div class="post-content">
				<p>In the previous blog post we discussed some theory of how to select optimal and possibly optimal interventions in a causal framework. For those interested in the decision science, this blog post may be more inspiring. This next task involves applying counterfactual quantities to boost learning performance. This is clearly very important for an RL agent where its entire learning mechanism is based on interventions in a system. What if intervention isn&#8217;t possible? Let&#8217;s begin!</p>
<h2>This Series</h2>
<ol>
<li><a href="/mathemafrica/p=16931.html">Causal Reinforcement Learning</a></li>
<li><a href="/mathemafrica/p=16947.html">Preliminaries for CRL</a></li>
<li><a href="/mathemafrica/p=16997.html">CRL Task 1: Generalised Policy Learning</a></li>
<li><a href="/mathemafrica/p=17025.html">CRL Task 2: Interventions &#8211; When and Where?</a></li>
<li>CRL Task 3: Counterfactual Decision Making</li>
<li><a href="/mathemafrica/p=17071.html">CRL Task 4: Generalisability and Robustness</a></li>
<li><a href="/mathemafrica/p=17096.html">Task 5: Learning Causal Models</a></li>
<li><em>(Coming soon) </em>Task 6: Causal Imitation Learning</li>
<li><em>(Coming soon) </em>Wrapping Up: Where To From Here?</li>
</ol>
<h2>Counterfactual Decision Making</h2>
<p>A key feature of causal inference is its ability to deal with counterfactual queries. Reinforcement learning, by its nature, deals with interventional quantities in a trial-and-error style of learning. Perhaps the most obvious question is: how can we implement RL in such a way as to deal with counterfactual and other causal factors in uncertain environments? In the preliminaries section we discussed the notions of a multi-armed bandit and their associated policy regret. This is a natural starting point for the merger of reinforcement learning and causal inference theory to solving counterfactual decision problems. We now discuss some interesting work done in this area, especially in the context of unobserved confounders in decision frameworks.</p>
<p>Obviously, the goal of optimising a policy is to minimise the regret an agent experiences. In addition, it should achieve this minimum regret as soon as possible in the learning process. Auer et al. [25] show that policies can achieve logarithmic regret uniformly over time. Applying a policy they call <em>UCB2</em>, the authors show that with input <img src="//s0.wp.com/latex.php?latex=0+%3C+%5Calpha+%5Cmax_%7Bi%3A%5Cmu_i+%3C+%5Cmu%5E%5Cast%7D+%5Cfrac%7B1%7D%7B2+%5CDelta_i%5E2%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="0 &lt; &#92;alpha &#92;max_{i:&#92;mu_i &lt; &#92;mu^&#92;ast} &#92;frac{1}{2 &#92;Delta_i^2}" title="0 &lt; &#92;alpha &#92;max_{i:&#92;mu_i &lt; &#92;mu^&#92;ast} &#92;frac{1}{2 &#92;Delta_i^2}" class="latex" /> of plays is bounded by</p>
<p><img src="//s0.wp.com/latex.php?latex=%5Csum_%7Bi%3A%5Cmu_i%7D+%5Cmathbb%7BE%7D%28Y_%7BX%3D1%7D+%3D+1+%5Cmid+X+%3D+1%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;sum_{i:&#92;mu_i} &#92;mathbb{E}(Y_{X=1} = 1 &#92;mid X = 1)" title="&#92;sum_{i:&#92;mu_i} &#92;mathbb{E}(Y_{X=1} = 1 &#92;mid X = 1)" class="latex" /></p>
<p><img src="//s0.wp.com/latex.php?latex=%5CLeftrightarrow+%5Cmathbb%7BE%7D%28Y_%7BX%3D0%7D+%3D+1+%5Cmid+X+%3D+1%29+%3E+P%28Y+%5Cmid+X+%3D+1%29.&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;Leftrightarrow &#92;mathbb{E}(Y_{X=0} = 1 &#92;mid X = 1) &gt; P(Y &#92;mid X = 1)." title="&#92;Leftrightarrow &#92;mathbb{E}(Y_{X=0} = 1 &#92;mid X = 1) &gt; P(Y &#92;mid X = 1)." class="latex" /></p>
<p>All this says is that we should consider the intent of the agent and consider how the causal system is trying to exploit this intent. The agent should acknowledge it&#8217;s own intent and modify its policy accordingly. The authors propose incorporating this into Thompson Sampling [27] to form Causal Thompson Sampling (<img src="//s0.wp.com/latex.php?latex=TS%5EC&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="TS^C" title="TS^C" class="latex" />), shown in the algorithm below. This algorithm leverages observational data to seed the algorithm and adds a rule to improve the arm exploration in the MABUC case. The algorithm is shown to dramatically improve convergence and regret against traditional methods under certain scenarios. Comments have been added to make the algorithm self-contained. The reader is encouraged to work through it.</p>
<p><a href="/mathemafrica/wp-content/uploads/2021/07/CausalTS.jpg" rel="attachment wp-att-17060"><img class="wp-image-17060 aligncenter" src="/mathemafrica/wp-content/uploads/2021/07/CausalTS.jpg?resize=716%2C270" alt="CausalTS" srcset="/mathemafrica/wp-content/uploads/2021/07/CausalTS.jpg?resize=300%2C113 300w, /mathemafrica/wp-content/uploads/2021/07/CausalTS.jpg?fit=786%2C295 786w" sizes="(max-width: 716px) 100vw, 716px" data-recalc-dims="1" /></a></p>
<p>The <img src="//s0.wp.com/latex.php?latex=TS%5EC&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="TS^C" title="TS^C" class="latex" /> is empirically shown to outperform conventional methods by converging upon an optimal policy faster and with less regret than the non-causally empowered approach. Ultimately we are interested in sequential decision making in the context of planning &#8211; the cases reinforcement learning addresses. [28] generalises the previous work on MABs to take a causal approach to Markov decision processes (MDPs) with unobserved confounders. In a similar fashion to [21], the authors construct a motivating example and show that MDP algorithms perform sub-optimally when applying conventional (non-causal) methods. First, we note why confounding in MDPs is different to confounding in MABs. Confounding in MDPs affects state and outcome variables in addition to action and outcome, and thus requires special treatment. Unlike in MABs, the MDP setting requires maximisation of reward over a long-term horizon (planning). Maximising with respect to the immediate future (greedy behaviour) thus fails to account for potentially superior long term trajectories in state-action space (long term strategies). The authors proceed by showing conventional MDP algorithms are not guaranteed to learn an optimal policy in the presence of unobserved confounders. Reformulating MDPs in terms of causal inference, we can show that counterfactual-aware policies outperform purely experimental algorithms.</p>
<p><strong>MDP with Unobserved Confounders (MDPUC) [28]:</strong> A Markov Decision Process with Unobserved Confounders is an SCM <img src="//s0.wp.com/latex.php?latex=M&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="M" title="M" class="latex" /> with actions <img src="//s0.wp.com/latex.php?latex=X&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="X" title="X" class="latex" />, states <img src="//s0.wp.com/latex.php?latex=S&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="S" title="S" class="latex" />, and a binary reward <img src="//s0.wp.com/latex.php?latex=Y&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="Y" title="Y" class="latex" />:</p>
<ol>
<li><img src="//s0.wp.com/latex.php?latex=%5Cgamma+%5Cin+%5B0%2C1%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;gamma &#92;in [0,1)" title="&#92;gamma &#92;in [0,1)" class="latex" /> is the discount factor.</li>
<li><img src="//s0.wp.com/latex.php?latex=U%5E%7B%28t%29%7D+%5Cin+U&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="U^{(t)} &#92;in U" title="U^{(t)} &#92;in U" class="latex" /> is the unobserved confounder at time-step <img src="//s0.wp.com/latex.php?latex=t&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="t" title="t" class="latex" />.</li>
<li><img src="//s0.wp.com/latex.php?latex=V%5E%7B%28t%29%7D+%3D+X%5E%7B%28t%29%7D+%5Ccup+Y%5E%7B%28t%29%7D+%5Ccup+S%5E%7B%28t%29%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="V^{(t)} = X^{(t)} &#92;cup Y^{(t)} &#92;cup S^{(t)}" title="V^{(t)} = X^{(t)} &#92;cup Y^{(t)} &#92;cup S^{(t)}" class="latex" /> is the set of observed variables at time-step <img src="//s0.wp.com/latex.php?latex=t&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="t" title="t" class="latex" />, where <img src="//s0.wp.com/latex.php?latex=X%5E%7B%28t%29%7D+%5Cin+X&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="X^{(t)} &#92;in X" title="X^{(t)} &#92;in X" class="latex" />, <img src="//s0.wp.com/latex.php?latex=Y%5E%7B%28t%29%7D+%5Cin+Y&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="Y^{(t)} &#92;in Y" title="Y^{(t)} &#92;in Y" class="latex" />, and <img src="//s0.wp.com/latex.php?latex=S%5E%7B%28t%29%7D+%5Cin+S&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="S^{(t)} &#92;in S" title="S^{(t)} &#92;in S" class="latex" />.</li>
<li><img src="//s0.wp.com/latex.php?latex=F+%3D+%5C%7B+f_x%2C+f_y%2C+f_s+%5C%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="F = &#92;{ f_x, f_y, f_s &#92;}" title="F = &#92;{ f_x, f_y, f_s &#92;}" class="latex" /> are the set o f structural equations relative to <img src="//s0.wp.com/latex.php?latex=V&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="V" title="V" class="latex" /> such that <img src="//s0.wp.com/latex.php?latex=X%5E%7Bt%7D+%5Cleftarrow+f_x%28s%5E%7B%28t%29%7D%2C+u%5E%7B%28t%29%7D%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="X^{t} &#92;leftarrow f_x(s^{(t)}, u^{(t)})" title="X^{t} &#92;leftarrow f_x(s^{(t)}, u^{(t)})" class="latex" />, <img src="//s0.wp.com/latex.php?latex=Y%5E%7B%28t%29%7D+%5Cleftarrow+f_y%28x%5E%7B%28t%29%7D%2C+s%5E%7B%28t%29%7D%2C+u%5E%7B%28t%29%7D%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="Y^{(t)} &#92;leftarrow f_y(x^{(t)}, s^{(t)}, u^{(t)})" title="Y^{(t)} &#92;leftarrow f_y(x^{(t)}, s^{(t)}, u^{(t)})" class="latex" />, and <img src="//s0.wp.com/latex.php?latex=S%5E%7B%28t%29%7D+%5Cleftarrow+f_s%28x%5E%7B%28t-1%29%7D%2C+s%5E%7B%28t-1%29%7D%2C+u%5E%7B%28t-1%29%7D%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="S^{(t)} &#92;leftarrow f_s(x^{(t-1)}, s^{(t-1)}, u^{(t-1)})" title="S^{(t)} &#92;leftarrow f_s(x^{(t-1)}, s^{(t-1)}, u^{(t-1)})" class="latex" />. In other words, they determine the next state and associated reward.</li>
<li><img src="//s0.wp.com/latex.php?latex=P%28u%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="P(u)" title="P(u)" class="latex" /> encodes the probability distribution over the unobserved (exogenous) variables <img src="//s0.wp.com/latex.php?latex=U&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="U" title="U" class="latex" />.</li>
</ol>
<p>A key difference to the MABUC case is that different sets of variables can be confounded over the time horizon. The following figure shows the four different ways in which MDPUC variables can be confounded.</p>
<p><a href="/mathemafrica/wp-content/uploads/2021/07/ZB-2016-Fig1.jpg" rel="attachment wp-att-17051"><img class="wp-image-17051 aligncenter" src="/mathemafrica/wp-content/uploads/2021/07/ZB-2016-Fig1.jpg?resize=849%2C348" alt="ZB-2016-Fig1" srcset="/mathemafrica/wp-content/uploads/2021/07/ZB-2016-Fig1.jpg?resize=200%2C82 200w, /mathemafrica/wp-content/uploads/2021/07/ZB-2016-Fig1.jpg?resize=300%2C123 300w, /mathemafrica/wp-content/uploads/2021/07/ZB-2016-Fig1.jpg?resize=400%2C164 400w, /mathemafrica/wp-content/uploads/2021/07/ZB-2016-Fig1.jpg?resize=600%2C246 600w, /mathemafrica/wp-content/uploads/2021/07/ZB-2016-Fig1.jpg?fit=728%2C299 728w" sizes="(max-width: 849px) 100vw, 849px" data-recalc-dims="1" /></a></p>
<p>The figure above shows (a) MDPUC with action (decided by the policy) to reward path, <img src="//s0.wp.com/latex.php?latex=x%5E%7B%28t%29%7D+%5Crightarrow+y%5E%7B%28t%29%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="x^{(t)} &#92;rightarrow y^{(t)}" title="x^{(t)} &#92;rightarrow y^{(t)}" class="latex" /> confounded. (b) MDP without confounders. This is the traditional RL instance. (c) MDPUC with action to reward path, <img src="//s0.wp.com/latex.php?latex=x%5E%7B%28t%29%7D+%5Crightarrow+y%5E%7B%28t%29%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="x^{(t)} &#92;rightarrow y^{(t)}" title="x^{(t)} &#92;rightarrow y^{(t)}" class="latex" />, and action to state path, <img src="//s0.wp.com/latex.php?latex=x%5E%7B%28t%29%7D+%5Crightarrow+s%5E%7B%28t%2B1%29%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="x^{(t)} &#92;rightarrow s^{(t+1)}" title="x^{(t)} &#92;rightarrow s^{(t+1)}" class="latex" />, confounded. (d) MDPUC with only action to state path, <img src="//s0.wp.com/latex.php?latex=x%5E%7B%28t%29%7D+%5Crightarrow+s%5E%7B%28t%2B1%29%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="x^{(t)} &#92;rightarrow s^{(t+1)}" title="x^{(t)} &#92;rightarrow s^{(t+1)}" class="latex" />, confounded. Extracted from [28].</p>
<p>Most literature discussing reinforcement learning will develop the theory in terms of value functions. We develop these notions for the MDPUC case here. This will allow us (in theory) to exploit existing RL literature with relative ease.</p>
<p><strong>Value Functions:</strong> Given a MDPUC model <img src="//s0.wp.com/latex.php?latex=M%5Clangle+%5Cgamma%2C+U%2C+X%2C+Y%2C+S%2C+F%2C+P%28u%29+%5Crangle&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="M&#92;langle &#92;gamma, U, X, Y, S, F, P(u) &#92;rangle" title="M&#92;langle &#92;gamma, U, X, Y, S, F, P(u) &#92;rangle" class="latex" /> and an arbitrary deterministic policy <img src="//s0.wp.com/latex.php?latex=%5Cpi&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;pi" title="&#92;pi" class="latex" />, we can define the value function starting from state <img src="//s0.wp.com/latex.php?latex=s%5E%7B%28t%29%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="s^{(t)}" title="s^{(t)}" class="latex" />, taking action <img src="//s0.wp.com/latex.php?latex=x%5E%7B%28t%29%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="x^{(t)}" title="x^{(t)}" class="latex" />, and thereafter following policy <img src="//s0.wp.com/latex.php?latex=%5Cpi&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;pi" title="&#92;pi" class="latex" /> as: <img src="//s0.wp.com/latex.php?latex=V%5E%7B%5Cpi%7D%28s%5E%7B%28t%29%7D%29+%3D+%5Cmathbb%7BE%7D%5Cleft%5B+%5Csum_%7Bk%3D0%7D%5E%7B%5Cinfty%7D+%5Cgamma%5Ek+Y_%7Bx%5E%7B%28%5Bt%2C+t%2Bk%5D%29%7D+%3D+%5Cpi%7D%5E%7B%28t%2Bk%29%7D+%5Cmid+s%5E%7B%28t%29%7D+%5Cright%5D.&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="V^{&#92;pi}(s^{(t)}) = &#92;mathbb{E}&#92;left[ &#92;sum_{k=0}^{&#92;infty} &#92;gamma^k Y_{x^{([t, t+k])} = &#92;pi}^{(t+k)} &#92;mid s^{(t)} &#92;right]." title="V^{&#92;pi}(s^{(t)}) = &#92;mathbb{E}&#92;left[ &#92;sum_{k=0}^{&#92;infty} &#92;gamma^k Y_{x^{([t, t+k])} = &#92;pi}^{(t+k)} &#92;mid s^{(t)} &#92;right]." class="latex" /> The state-action value function is similarly defined: <img src="//s0.wp.com/latex.php?latex=Q%5E%7B%5Cpi%7D%28s%5E%7B%28t%29%7D%2C+x%5E%7B%28t%29%7D%29+%3D+%5Cmathbb%7BE%7D%5Cleft%5B+%5Csum_%7Bk%3D0%7D%5E%7B%5Cinfty%7D+%5Cgamma%5Ek+Y_%7Bx%5E%7B%28k%29%7D%2C+x%5E%7B%28%5Bt%2B1%2C+t%2Bk%5D%29%7D+%3D+%5Cpi%7D%5E%7B%28t%2Bk%29%7D+%5Cmid+s%5E%7B%28t%29%7D%2C+x%5E%7B%28t%29%7D+%5Cright%5D.&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="Q^{&#92;pi}(s^{(t)}, x^{(t)}) = &#92;mathbb{E}&#92;left[ &#92;sum_{k=0}^{&#92;infty} &#92;gamma^k Y_{x^{(k)}, x^{([t+1, t+k])} = &#92;pi}^{(t+k)} &#92;mid s^{(t)}, x^{(t)} &#92;right]." title="Q^{&#92;pi}(s^{(t)}, x^{(t)}) = &#92;mathbb{E}&#92;left[ &#92;sum_{k=0}^{&#92;infty} &#92;gamma^k Y_{x^{(k)}, x^{([t+1, t+k])} = &#92;pi}^{(t+k)} &#92;mid s^{(t)}, x^{(t)} &#92;right]." class="latex" /></p>
<p>The interpretation of these functions is the same as in the usual RL literature. They simply associate a state or state-action with an expected reward over all future time steps. Using these definitions, we can derive expressions for the well known Bellman equation and recursive definitions for the state and state-action value functions [12] for the situation where unobserved confounders are present. The authors rest their analysis of these results on the axioms of counterfactuals and the Markov property presented in the following theorem. Proofs for the following theorems are available in the source paper [28] and are not included here for brevity.</p>
<p><strong>Markovian Property in MDPUCs [28]:</strong> For a MDPUC model M <img src="//s0.wp.com/latex.php?latex=%5Clangle+%5Cgamma%2C+U%2C+X%2C+Y%2C+S%2C+F%2C+P%28u%29+%5Crangle&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;langle &#92;gamma, U, X, Y, S, F, P(u) &#92;rangle" title="&#92;langle &#92;gamma, U, X, Y, S, F, P(u) &#92;rangle" class="latex" />, a policy <img src="//s0.wp.com/latex.php?latex=%5Cpi+%5Cin+F_%7Bexp%7D+%3D+%5C%7B+%5Cpi+%5Cmid+%5Cpi%3A+S+%5Crightarrow+X+%5C%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;pi &#92;in F_{exp} = &#92;{ &#92;pi &#92;mid &#92;pi: S &#92;rightarrow X &#92;}" title="&#92;pi &#92;in F_{exp} = &#92;{ &#92;pi &#92;mid &#92;pi: S &#92;rightarrow X &#92;}" class="latex" /> (state to action map), and a starting state <img src="//s0.wp.com/latex.php?latex=s%5E%7B%28t%29%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="s^{(t)}" title="s^{(t)}" class="latex" />, the agents performs actions <img src="//s0.wp.com/latex.php?latex=do%28X%5E%7B%28t%29%7D+%3D+x%5E%7B%28t%29%7D%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="do(X^{(t)} = x^{(t)})" title="do(X^{(t)} = x^{(t)})" class="latex" /> at round <img src="//s0.wp.com/latex.php?latex=t&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="t" title="t" class="latex" /> and <img src="//s0.wp.com/latex.php?latex=do%28X%5E%7B%28%5Bt%2B1%2Ct%2Bk%5D%29%7D+%3D+%5Cpi%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="do(X^{([t+1,t+k])} = &#92;pi)" title="do(X^{([t+1,t+k])} = &#92;pi)" class="latex" /> afterwards <img src="//s0.wp.com/latex.php?latex=%28k+%5Cin+%5Cmathbb%7BZ%7D%5E%2B%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="(k &#92;in &#92;mathbb{Z}^+)" title="(k &#92;in &#92;mathbb{Z}^+)" class="latex" />, the following statement holds:</p>
<p><img src="//s0.wp.com/latex.php?latex=P%5Cleft%28Y_%7Bx%5E%7B%28t%29%7D%2C+x%5E%7B%28%5Bt%2B1%2C+t%2Bk%5D%29%7D%3D%5Cpi%7D%5E%7Bt%2Bk%7D%3Dy%5E%7B%28t%2Bk%29%7D+%5Cmid+s_%7Bx%5E%7B%28t%29%7D%7D%5E%7B%28t%2B1%29%7D%2C+s%5E%7B%28t%29%7D%5Cright%29%3DP%5Cleft%28Y_%7Bx%5E%7B%28%5Bt%2B1%2C+t%2Bk%5D%29%7D%3D%5Cpi%7D%5E%7Bt%2Bk%7D%3Dy%5E%7B%28t%2Bk%29%7D+%5Cmid+s%5E%7B%28t%2B1%29%7D%5Cright%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="P&#92;left(Y_{x^{(t)}, x^{([t+1, t+k])}=&#92;pi}^{t+k}=y^{(t+k)} &#92;mid s_{x^{(t)}}^{(t+1)}, s^{(t)}&#92;right)=P&#92;left(Y_{x^{([t+1, t+k])}=&#92;pi}^{t+k}=y^{(t+k)} &#92;mid s^{(t+1)}&#92;right)" title="P&#92;left(Y_{x^{(t)}, x^{([t+1, t+k])}=&#92;pi}^{t+k}=y^{(t+k)} &#92;mid s_{x^{(t)}}^{(t+1)}, s^{(t)}&#92;right)=P&#92;left(Y_{x^{([t+1, t+k])}=&#92;pi}^{t+k}=y^{(t+k)} &#92;mid s^{(t+1)}&#92;right)" class="latex" /></p>
<p>We can further extend MDPUCs to counterfactual policies by considering <img src="//s0.wp.com/latex.php?latex=F_%7Bctf%7D+%3D+%5C%7B+%5Cpi+%5Cmid+%5Cpi%3A+S+%5Ctimes+X+%5Crightarrow+X+%5C%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="F_{ctf} = &#92;{ &#92;pi &#92;mid &#92;pi: S &#92;times X &#92;rightarrow X &#92;}" title="F_{ctf} = &#92;{ &#92;pi &#92;mid &#92;pi: S &#92;times X &#92;rightarrow X &#92;}" class="latex" />, the set of functions between the current state <img src="//s0.wp.com/latex.php?latex=s%5E%7B%28t%29%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="s^{(t)}" title="s^{(t)}" class="latex" />, the intuition of the agent <img src="//s0.wp.com/latex.php?latex=x%5E%7B%5Cprime%28t%29%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="x^{&#92;prime(t)}" title="x^{&#92;prime(t)}" class="latex" />, and the action <img src="//s0.wp.com/latex.php?latex=x%5E%7B%28t%29%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="x^{(t)}" title="x^{(t)}" class="latex" />. Then <img src="//s0.wp.com/latex.php?latex=V%5E%7B%28t%29%7D+%3D+V%5E%7B%28t%29%7D%28s%5E%7B%28t%29%7D%2Cx%5E%7B%5Cprime%28t%29%7D%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="V^{(t)} = V^{(t)}(s^{(t)},x^{&#92;prime(t)})" title="V^{(t)} = V^{(t)}(s^{(t)},x^{&#92;prime(t)})" class="latex" /> and <img src="//s0.wp.com/latex.php?latex=Q%5E%7B%28t%29%7D+%3D+Q%5E%7B%28t%29%7D%28s%5E%7B%28t%29%7D%2C+x%5E%7B%5Cprime%28t%29%7D%2C+x%5E%7B%28t%29%7D%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="Q^{(t)} = Q^{(t)}(s^{(t)}, x^{&#92;prime(t)}, x^{(t)})" title="Q^{(t)} = Q^{(t)}(s^{(t)}, x^{&#92;prime(t)}, x^{(t)})" class="latex" />. With this we can derive a remarkable result encoded as a theorem below.</p>
<p><strong>Theorem:</strong> Given an MDPUC instance <img src="//s0.wp.com/latex.php?latex=M%5Clangle+%5Cgamma%2C+U%2C+X%2C+Y%2C+S%2C+F%2C+P%28u%29+%5Crangle&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="M&#92;langle &#92;gamma, U, X, Y, S, F, P(u) &#92;rangle" title="M&#92;langle &#92;gamma, U, X, Y, S, F, P(u) &#92;rangle" class="latex" />, let <img src="//s0.wp.com/latex.php?latex=%5Cpi_%7Bexp%7D%5E%5Cast+%3D+%5Ctextbf%7Bargmax%7D_%7B%5Cpi+%5Cin+F_%7Bexp%7D%7D+V%5E%7B%5Cpi%7D%28s%5E%7B%28t%29%7D%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;pi_{exp}^&#92;ast = &#92;textbf{argmax}_{&#92;pi &#92;in F_{exp}} V^{&#92;pi}(s^{(t)})" title="&#92;pi_{exp}^&#92;ast = &#92;textbf{argmax}_{&#92;pi &#92;in F_{exp}} V^{&#92;pi}(s^{(t)})" class="latex" /> and <img src="//s0.wp.com/latex.php?latex=%5Cpi_%7Bctf%7D%5E%5Cast+%3D+%5Ctextbf%7Bargmax%7D_%7B%5Cpi+%5Cin+F_%7Bctf%7D%7D+V%5E%7B%5Cpi%7D%28s%5E%7B%28t%29%7D%2C+x%5E%7B%5Cprime%28t%29%7D%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;pi_{ctf}^&#92;ast = &#92;textbf{argmax}_{&#92;pi &#92;in F_{ctf}} V^{&#92;pi}(s^{(t)}, x^{&#92;prime(t)})" title="&#92;pi_{ctf}^&#92;ast = &#92;textbf{argmax}_{&#92;pi &#92;in F_{ctf}} V^{&#92;pi}(s^{(t)}, x^{&#92;prime(t)})" class="latex" />. For any state <img src="//s0.wp.com/latex.php?latex=s%5E%7B%28t%29%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="s^{(t)}" title="s^{(t)}" class="latex" />, the following statement holds:</p>
<p><img src="//s0.wp.com/latex.php?latex=V%5E%7B%5Cpi_%7Bexp%7D%5E%5Cast%7D%28s%5E%7B%28t%29%7D%29+%5Cleq+V%5E%7B%5Cpi_%7Bctf%7D%5E%5Cast%7D%28s%5E%7B%28t%29%7D%29.&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="V^{&#92;pi_{exp}^&#92;ast}(s^{(t)}) &#92;leq V^{&#92;pi_{ctf}^&#92;ast}(s^{(t)})." title="V^{&#92;pi_{exp}^&#92;ast}(s^{(t)}) &#92;leq V^{&#92;pi_{ctf}^&#92;ast}(s^{(t)})." class="latex" /></p>
<p>In other words, we can never do <em>worse</em> by considering counterfactual quantities (intent).</p>
<p>Zhang and Bareinboim [28] continue to implement a counterfactual-aware MORMAX MDP algorithm and empirically show it superior to conventional MORMAX [29] approaches in intent-sensitive scenarios. Forney and Bareinboim [11] extend this counterfactual awareness to the design of experiments.</p>
<p>Forney, Pearl and Bareinboim [30] expand upon the ideas presented above by showing that counterfactual-based decision-making circumvents problems of naive randomisation when UCs are present. The formalism presented coherently fuses observational and experimental data to make well informed decisions by estimating counterfactual quantities empirically. More concretely, they study conditions under which data collected from distinct sources and conditions can be combined to improve learning performance by an RL agent. The key insight here is that <em>seeing</em> does not equate to <em>doing</em> in the world of data. Applying a developed heuristic, a variant of Thompson Sampling [27] is introduced and empirically shown to outperform previous state-of-the-art agents. An extension of the motivating example of (potentially) drunk gamblers from [21] is extended to consider an extra dependence on whether or not all the machines have blinking lights. This yields four combinations of the states of sobriety and blinking machines.</p>
<p>We start by noticing the interventional quantities, <img src="//s0.wp.com/latex.php?latex=%5Cmathbb%7BE%7D%5BY+%5Cmid+do%28X%3Dx%29%5D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;mathbb{E}[Y &#92;mid do(X=x)]" title="&#92;mathbb{E}[Y &#92;mid do(X=x)]" class="latex" /> can be written in terms of counterfactuals as <img src="//s0.wp.com/latex.php?latex=%5Cmathbb%7BE%7D%5BY_%7BX%3Dx%7D%5D+%3D+%5Cmathbb%7BE%7D%5BY_x%5D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;mathbb{E}[Y_{X=x}] = &#92;mathbb{E}[Y_x]" title="&#92;mathbb{E}[Y_{X=x}] = &#92;mathbb{E}[Y_x]" class="latex" /> &#8211; that is, the expected value of <img src="//s0.wp.com/latex.php?latex=Y&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="Y" title="Y" class="latex" /> had <img src="//s0.wp.com/latex.php?latex=X&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="X" title="X" class="latex" /> been <img src="//s0.wp.com/latex.php?latex=x&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="x" title="x" class="latex" />. Applying the law of total probabilities, we arrive at the useful representation</p>
<p><img src="//s0.wp.com/latex.php?latex=%5Cmathbb%7BE%7D%5BY_x%5D+%3D+%5Cmathbb%7BE%7D%5BY_x+%5Cmid+x_1%5DP%28x_1%29+%2B+%5Cdots+%2B+%5Cmathbb%7BE%7D%5BY_x+%5Cmid+x_K%5DP%28x_K%29.&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;mathbb{E}[Y_x] = &#92;mathbb{E}[Y_x &#92;mid x_1]P(x_1) + &#92;dots + &#92;mathbb{E}[Y_x &#92;mid x_K]P(x_K)." title="&#92;mathbb{E}[Y_x] = &#92;mathbb{E}[Y_x &#92;mid x_1]P(x_1) + &#92;dots + &#92;mathbb{E}[Y_x &#92;mid x_K]P(x_K)." class="latex" /></p>
<p><img src="//s0.wp.com/latex.php?latex=%5Cmathbb%7BE%7D%5BY_x%5D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;mathbb{E}[Y_x]" title="&#92;mathbb{E}[Y_x]" class="latex" /> is interventional by definition. <img src="//s0.wp.com/latex.php?latex=%5Cmathbb%7BE%7D%5BY_x+%5Cmid+x%5E%5Cprime%5D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;mathbb{E}[Y_x &#92;mid x^&#92;prime]" title="&#92;mathbb{E}[Y_x &#92;mid x^&#92;prime]" class="latex" /> is either observational or counterfactual depending on whether <img src="//s0.wp.com/latex.php?latex=x%3Dx%5E%5Cprime&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="x=x^&#92;prime" title="x=x^&#92;prime" class="latex" /> or <img src="//s0.wp.com/latex.php?latex=x+%5Cneq+x%5E%5Cprime&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="x &#92;neq x^&#92;prime" title="x &#92;neq x^&#92;prime" class="latex" /> respectively. That is, whether or not <img src="//s0.wp.com/latex.php?latex=x%5E%5Cprime&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="x^&#92;prime" title="x^&#92;prime" class="latex" /> has occurred. As we noted earlier, counterfactual quantities are, by their nature, not empirically available in general. Interestingly, however, intents of the agent contain information about the agent&#8217;s decision process and can reveal encoded information about unobserved confounders, as we noted in the MAB case earlier. Applying randomisation to intent conditions (with RDC) can allow computation of counterfactual quantities. In this way, observational data actually <em>adds</em> information to the seemingly more informative interventional data. This counterfactual quantity &#8211; that is not naturally realisable &#8211; is often referred to as the <em>effect of the treatment on the treated</em> [31], by way of the fact that doctors cannot retroactively observe how changing the treatment would have affected a specific patient &#8211; well, they shouldn&#8217;t!</p>
<p><strong>Estimation of ETT [30]:</strong> The counterfactual quantity referred to as the effect of the treatment on the treated (ETT) is empirically estimable for any number of action choices when agents condition on their intent <img src="//s0.wp.com/latex.php?latex=I%3Di&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="I=i" title="I=i" class="latex" /> and estimate the response <img src="//s0.wp.com/latex.php?latex=Y&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="Y" title="Y" class="latex" /> to their final action choice <img src="//s0.wp.com/latex.php?latex=X%3Da&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="X=a" title="X=a" class="latex" />.</p>
<p><strong>Proof:</strong> The ETT counterfactual quantity can be written as <img src="//s0.wp.com/latex.php?latex=%5Cmathbb%7BE%7D%5BY_%7BX%3Da%7D+%5Cmid+X+%3D+i%5D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;mathbb{E}[Y_{X=a} &#92;mid X = i]" title="&#92;mathbb{E}[Y_{X=a} &#92;mid X = i]" class="latex" />. Applying law of total probability and conditional independence relation <img src="//s0.wp.com/latex.php?latex=Y_x+%5Cperp+X+%5Cmid+I&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="Y_x &#92;perp X &#92;mid I" title="Y_x &#92;perp X &#92;mid I" class="latex" />, we have:</p>
<p><img src="//s0.wp.com/latex.php?latex=%5Cbegin%7Baligned%7D++%5Cmathbb%7BE%7D%5Cleft%5BY_%7BX%3Da%7D+%5Cmid+X%3Di%5Cright%5D+%26%3D%5Csum_%7Bi%5E%7B%5Cprime%7D%7D+%5Cmathbb%7BE%7D%5Cleft%5BY_%7BX%3Da%7D+%5Cmid+X%3Di%2C+I%3Di%5E%7B%5Cprime%7D%5Cright%5D+P%5Cleft%28I%3Di%5E%7B%5Cprime%7D+%5Cmid+X%3Di%5Cright%29+%5C%5C++%26%3D%5Csum_%7Bi%5E%7B%5Cprime%7D%7D+%5Cmathbb%7BE%7D%5Cleft%5BY_%7BX%3Da%7D+%5Cmid+I%3Di%5E%7B%5Cprime%7D%5Cright%5D+P%5Cleft%28I%3Di%5E%7B%5Cprime%7D+%5Cmid+X%3Di%5Cright%29++%5Cend%7Baligned%7D++&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;begin{aligned}  &#92;mathbb{E}&#92;left[Y_{X=a} &#92;mid X=i&#92;right] &amp;=&#92;sum_{i^{&#92;prime}} &#92;mathbb{E}&#92;left[Y_{X=a} &#92;mid X=i, I=i^{&#92;prime}&#92;right] P&#92;left(I=i^{&#92;prime} &#92;mid X=i&#92;right) &#92;&#92;  &amp;=&#92;sum_{i^{&#92;prime}} &#92;mathbb{E}&#92;left[Y_{X=a} &#92;mid I=i^{&#92;prime}&#92;right] P&#92;left(I=i^{&#92;prime} &#92;mid X=i&#92;right)  &#92;end{aligned}  " title="&#92;begin{aligned}  &#92;mathbb{E}&#92;left[Y_{X=a} &#92;mid X=i&#92;right] &amp;=&#92;sum_{i^{&#92;prime}} &#92;mathbb{E}&#92;left[Y_{X=a} &#92;mid X=i, I=i^{&#92;prime}&#92;right] P&#92;left(I=i^{&#92;prime} &#92;mid X=i&#92;right) &#92;&#92;  &amp;=&#92;sum_{i^{&#92;prime}} &#92;mathbb{E}&#92;left[Y_{X=a} &#92;mid I=i^{&#92;prime}&#92;right] P&#92;left(I=i^{&#92;prime} &#92;mid X=i&#92;right)  &#92;end{aligned}  " class="latex" /><br />
Now, we notice that <img src="//s0.wp.com/latex.php?latex=I_x+%3D+I&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="I_x = I" title="I_x = I" class="latex" /> because in <img src="//s0.wp.com/latex.php?latex=G_%7B%5Coverline%7BX%7D%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="G_{&#92;overline{X}}" title="G_{&#92;overline{X}}" class="latex" /> (graph with edges into <img src="//s0.wp.com/latex.php?latex=X&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="X" title="X" class="latex" /> removed) we have <img src="//s0.wp.com/latex.php?latex=%28I+%5Cperp+X%29_%7BG_%7B%5Coverline%7BX%7D%7D%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="(I &#92;perp X)_{G_{&#92;overline{X}}}" title="(I &#92;perp X)_{G_{&#92;overline{X}}}" class="latex" />. Thus,</p>
<p><img src="//s0.wp.com/latex.php?latex=%5Cbegin%7Baligned%7D++%5Cmathbb%7BE%7D%5Cleft%5BY_%7BX%3Da%7D+%5Cmid+X%3Di%5Cright%5D+%26%3D%5Csum_%7Bi%5E%7B%5Cprime%7D%7D+%5Cmathbb%7BE%7D%5Cleft%5BY_%7BX%3Da%7D+%5Cmid+I%3Di%5E%7B%5Cprime%7D%5Cright%5D+P%5Cleft%28I%3Di%5E%7B%5Cprime%7D+%5Cmid+X%3Di%5Cright%29+%5C%5C++%26%3D%5Csum_%7Bi%5E%7B%5Cprime%7D%7D+%5Cmathbb%7BE%7D%5Cleft%5BY_%7BX%3Da%7D+%5Cmid+I_%7Bx%3Da%7D%3Di%5E%7B%5Cprime%7D%5Cright%5D+P%5Cleft%28I%3Di%5E%7B%5Cprime%7D+%5Cmid+X%3Di%5Cright%29+%5C%5C++%26%3D%5Csum_%7Bi%5E%7B%5Cprime%7D%7D+%5Cmathbb%7BE%7D%5Cleft%5BY+%5Cmid+d+o%28X%3Da%29%2C+I%3Di%5E%7B%5Cprime%7D%5Cright%5D+P%5Cleft%28I%3Di%5E%7B%5Cprime%7D+%5Cmid+X%3Di%5Cright%29++%5Cend%7Baligned%7D++&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;begin{aligned}  &#92;mathbb{E}&#92;left[Y_{X=a} &#92;mid X=i&#92;right] &amp;=&#92;sum_{i^{&#92;prime}} &#92;mathbb{E}&#92;left[Y_{X=a} &#92;mid I=i^{&#92;prime}&#92;right] P&#92;left(I=i^{&#92;prime} &#92;mid X=i&#92;right) &#92;&#92;  &amp;=&#92;sum_{i^{&#92;prime}} &#92;mathbb{E}&#92;left[Y_{X=a} &#92;mid I_{x=a}=i^{&#92;prime}&#92;right] P&#92;left(I=i^{&#92;prime} &#92;mid X=i&#92;right) &#92;&#92;  &amp;=&#92;sum_{i^{&#92;prime}} &#92;mathbb{E}&#92;left[Y &#92;mid d o(X=a), I=i^{&#92;prime}&#92;right] P&#92;left(I=i^{&#92;prime} &#92;mid X=i&#92;right)  &#92;end{aligned}  " title="&#92;begin{aligned}  &#92;mathbb{E}&#92;left[Y_{X=a} &#92;mid X=i&#92;right] &amp;=&#92;sum_{i^{&#92;prime}} &#92;mathbb{E}&#92;left[Y_{X=a} &#92;mid I=i^{&#92;prime}&#92;right] P&#92;left(I=i^{&#92;prime} &#92;mid X=i&#92;right) &#92;&#92;  &amp;=&#92;sum_{i^{&#92;prime}} &#92;mathbb{E}&#92;left[Y_{X=a} &#92;mid I_{x=a}=i^{&#92;prime}&#92;right] P&#92;left(I=i^{&#92;prime} &#92;mid X=i&#92;right) &#92;&#92;  &amp;=&#92;sum_{i^{&#92;prime}} &#92;mathbb{E}&#92;left[Y &#92;mid d o(X=a), I=i^{&#92;prime}&#92;right] P&#92;left(I=i^{&#92;prime} &#92;mid X=i&#92;right)  &#92;end{aligned}  " class="latex" /></p>
<p>where the last line follows since all quantities are in relation to the same variable <img src="//s0.wp.com/latex.php?latex=x&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="x" title="x" class="latex" /> and so the counterfactual quantity can be written as an interventional quantity. We now notice that since <img src="//s0.wp.com/latex.php?latex=P%28I+%3D+i%5E%5Cprime+%5Cmid+X+%3D+i%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="P(I = i^&#92;prime &#92;mid X = i)" title="P(I = i^&#92;prime &#92;mid X = i)" class="latex" /> is observational, the intent will always match the outcome. We can thus rewrite this as an indicator function. The result follows.</p>
<p><img src="//s0.wp.com/latex.php?latex=%5Cbegin%7Baligned%7D++%5Cmathbb%7BE%7D%5Cleft%5BY_%7BX%3Da%7D+%5Cmid+X%3Di%5Cright%5D+%26%3D%5Csum_%7Bi%5E%7B%5Cprime%7D%7D+%5Cmathbb%7BE%7D%5Cleft%5BY+%5Cmid+d+o%28X%3Da%29%2C+I%3Di%5E%7B%5Cprime%7D%5Cright%5D+P%5Cleft%28I%3Di%5E%7B%5Cprime%7D+%5Cmid+X%3Di%5Cright%29+%5C%5C++%26%3D%5Csum_%7Bi%5E%7B%5Cprime%7D%7D+%5Cmathbb%7BE%7D%5Cleft%5BY+%5Cmid+d+o%28X%3Da%29%2C+I%3Di%5E%7B%5Cprime%7D%5Cright%5D+%5Cmathbb%7B1%7D_%7Bi%5E%7B%5Cprime%7D%3Di%7D+%5C%5C++%26%3D%5Cmathbb%7BE%7D%5BY+%5Cmid+d+o%28X%3Da%29%2C+I%3Di%5D++%5Cend%7Baligned%7D++&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;begin{aligned}  &#92;mathbb{E}&#92;left[Y_{X=a} &#92;mid X=i&#92;right] &amp;=&#92;sum_{i^{&#92;prime}} &#92;mathbb{E}&#92;left[Y &#92;mid d o(X=a), I=i^{&#92;prime}&#92;right] P&#92;left(I=i^{&#92;prime} &#92;mid X=i&#92;right) &#92;&#92;  &amp;=&#92;sum_{i^{&#92;prime}} &#92;mathbb{E}&#92;left[Y &#92;mid d o(X=a), I=i^{&#92;prime}&#92;right] &#92;mathbb{1}_{i^{&#92;prime}=i} &#92;&#92;  &amp;=&#92;mathbb{E}[Y &#92;mid d o(X=a), I=i]  &#92;end{aligned}  " title="&#92;begin{aligned}  &#92;mathbb{E}&#92;left[Y_{X=a} &#92;mid X=i&#92;right] &amp;=&#92;sum_{i^{&#92;prime}} &#92;mathbb{E}&#92;left[Y &#92;mid d o(X=a), I=i^{&#92;prime}&#92;right] P&#92;left(I=i^{&#92;prime} &#92;mid X=i&#92;right) &#92;&#92;  &amp;=&#92;sum_{i^{&#92;prime}} &#92;mathbb{E}&#92;left[Y &#92;mid d o(X=a), I=i^{&#92;prime}&#92;right] &#92;mathbb{1}_{i^{&#92;prime}=i} &#92;&#92;  &amp;=&#92;mathbb{E}[Y &#92;mid d o(X=a), I=i]  &#92;end{aligned}  " class="latex" /></p>
<p>[30] makes use of this result to suggest heuristics for learning counterfactual quantities from (possibly noisy) experimental and observational data.</p>
<p><a href="/mathemafrica/wp-content/uploads/2021/07/FPB-2017-Fig3.jpg" rel="attachment wp-att-17052"><img class=" wp-image-17052 aligncenter" src="/mathemafrica/wp-content/uploads/2021/07/FPB-2017-Fig3.jpg?resize=488%2C244" alt="FPB-2017-Fig3" srcset="/mathemafrica/wp-content/uploads/2021/07/FPB-2017-Fig3.jpg?resize=200%2C100 200w, /mathemafrica/wp-content/uploads/2021/07/FPB-2017-Fig3.jpg?resize=300%2C150 300w, /mathemafrica/wp-content/uploads/2021/07/FPB-2017-Fig3.jpg?resize=400%2C200 400w, /mathemafrica/wp-content/uploads/2021/07/FPB-2017-Fig3.jpg?fit=495%2C248 495w" sizes="(max-width: 488px) 100vw, 488px" data-recalc-dims="1" /></a></p>
<p>This figure shows the counterfactual possibilities for different actions and action-intents. The diagonal indicates the counterfactual quantities that have occurred. We can apply knowledge of other counterfactual quantities to learn about other possible counterfactuals. (B) indicates cross-intent learning. (C) indicates cross-arm learning. Extracted form [30].</p>
<p>1. <strong>Cross-Intent Learning:</strong> Thinking about these equation carefully, we notice that since they holds for every arm, we have a system of equations for outcomes conditioned on different intents. Thus to find <img src="//s0.wp.com/latex.php?latex=%5Cmathbb%7BE%7D%5BY_%7Bx_r%7D+%5Cmid+x_w%5D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;mathbb{E}[Y_{x_r} &#92;mid x_w]" title="&#92;mathbb{E}[Y_{x_r} &#92;mid x_w]" class="latex" /> we can learn about other intent conditions:</p>
<p><img src="//s0.wp.com/latex.php?latex=%5Cmathbb%7BE%7D%5BY_%7Bx_r%7D+%5Cmid+x_w%5D+%3D+%5Cleft%5B%5Cmathbb%7BE%7D%5BY_%7Bx_r%7D%5D+-+%5Csum_%7Bi+%5Cneq+w%7D%5EK+%5Cmathbb%7BE%7D%5BY_%7Bx_r%7D+%5Cmid+x_i%5D+P%28x_i%29%5Cright%5D+%2F+P%28x_w%29.&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;mathbb{E}[Y_{x_r} &#92;mid x_w] = &#92;left[&#92;mathbb{E}[Y_{x_r}] - &#92;sum_{i &#92;neq w}^K &#92;mathbb{E}[Y_{x_r} &#92;mid x_i] P(x_i)&#92;right] / P(x_w)." title="&#92;mathbb{E}[Y_{x_r} &#92;mid x_w] = &#92;left[&#92;mathbb{E}[Y_{x_r}] - &#92;sum_{i &#92;neq w}^K &#92;mathbb{E}[Y_{x_r} &#92;mid x_i] P(x_i)&#92;right] / P(x_w)." class="latex" /></p>
<p>2. <strong>Cross-Arm Learning:</strong> Similarly to (1), we can observe that given information about two different arms under the same intent, we can learn about a third arm under the same intent. We have</p>
<p><img src="//s0.wp.com/latex.php?latex=P%5Cleft%28x_w%5Cright%29%3D%5Cfrac%7BE%5Cleft%5BY_%7Bx_%7Br%7D%7D%5Cright%5D-%5Csum_%7Bi+%5Cneq+w%7D%5E%7BK%7D+E%5Cleft%5BY_%7Bx_%7Br%7D%7D+%5Cmid+x_%7Bi%7D%5Cright%5D+P%5Cleft%28x_%7Bi%7D%5Cright%29%7D%7BE%5Cleft%5BY_%7Bx_%7Br%7D%7D+%5Cmid+x_%7Bw%7D%5Cright%5D%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="P&#92;left(x_w&#92;right)=&#92;frac{E&#92;left[Y_{x_{r}}&#92;right]-&#92;sum_{i &#92;neq w}^{K} E&#92;left[Y_{x_{r}} &#92;mid x_{i}&#92;right] P&#92;left(x_{i}&#92;right)}{E&#92;left[Y_{x_{r}} &#92;mid x_{w}&#92;right]}" title="P&#92;left(x_w&#92;right)=&#92;frac{E&#92;left[Y_{x_{r}}&#92;right]-&#92;sum_{i &#92;neq w}^{K} E&#92;left[Y_{x_{r}} &#92;mid x_{i}&#92;right] P&#92;left(x_{i}&#92;right)}{E&#92;left[Y_{x_{r}} &#92;mid x_{w}&#92;right]}" class="latex" /></p>
<p>Which is the same as writing</p>
<p><img src="//s0.wp.com/latex.php?latex=P%5Cleft%28x_w%5Cright%29%3D%5Cfrac%7BE%5Cleft%5BY_%7Bx_%7Bs%7D%7D%5Cright%5D-%5Csum_%7Bi+%5Cneq+w%7D%5E%7BK%7D+E%5Cleft%5BY_%7Bx_%7Bs%7D%7D+%5Cmid+x_%7Bi%7D%5Cright%5D+P%5Cleft%28x_%7Bi%7D%5Cright%29%7D%7BE%5Cleft%5BY_%7Bx_%7Bs%7D%7D+%5Cmid+x_%7Bw%7D%5Cright%5D%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="P&#92;left(x_w&#92;right)=&#92;frac{E&#92;left[Y_{x_{s}}&#92;right]-&#92;sum_{i &#92;neq w}^{K} E&#92;left[Y_{x_{s}} &#92;mid x_{i}&#92;right] P&#92;left(x_{i}&#92;right)}{E&#92;left[Y_{x_{s}} &#92;mid x_{w}&#92;right]}" title="P&#92;left(x_w&#92;right)=&#92;frac{E&#92;left[Y_{x_{s}}&#92;right]-&#92;sum_{i &#92;neq w}^{K} E&#92;left[Y_{x_{s}} &#92;mid x_{i}&#92;right] P&#92;left(x_{i}&#92;right)}{E&#92;left[Y_{x_{s}} &#92;mid x_{w}&#92;right]}" class="latex" /></p>
<p>Combining these results and solving for <img src="//s0.wp.com/latex.php?latex=%5Cmathbb%7BE%7D%5BY_%7Bx_r%7D+%5Cmid+x_w%5D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;mathbb{E}[Y_{x_r} &#92;mid x_w]" title="&#92;mathbb{E}[Y_{x_r} &#92;mid x_w]" class="latex" /> we find:</p>
<p><img src="//s0.wp.com/latex.php?latex=E%5Cleft%5BY_%7Bx_%7Br%7D%7D+%5Cmid+x_%7Bw%7D%5Cright%5D%3D%5Cfrac%7B%5Cleft%5BE%5Cleft%5BY_%7Bx_%7Br%7D%7D%5Cright%5D-%5Csum_%7Bi+%5Cneq+w%7D%5E%7BK%7D+E%5Cleft%5BY_%7Bx_%7Br%7D%7D+%5Cmid+x_%7Bi%7D%5Cright%5D+P%5Cleft%28x_%7Bi%7D%5Cright%29%5Cright%5D+E%5Cleft%5BY_%7Bx_%7Bs%7D%7D+%5Cmid+x_%7Bw%7D%5Cright%5D%7D%7BE%5Cleft%5BY_%7Bx_%7Bs%7D%7D%5Cright%5D-%5Csum_%7Bi+%5Cneq+w%7D%5E%7BK%7D+E%5Cleft%5BY_%7Bx_%7Bs%7D%7D+%5Cmid+x_%7Bi%7D%5Cright%5D+P%5Cleft%28x_%7Bi%7D%5Cright%29%7D.++&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="E&#92;left[Y_{x_{r}} &#92;mid x_{w}&#92;right]=&#92;frac{&#92;left[E&#92;left[Y_{x_{r}}&#92;right]-&#92;sum_{i &#92;neq w}^{K} E&#92;left[Y_{x_{r}} &#92;mid x_{i}&#92;right] P&#92;left(x_{i}&#92;right)&#92;right] E&#92;left[Y_{x_{s}} &#92;mid x_{w}&#92;right]}{E&#92;left[Y_{x_{s}}&#92;right]-&#92;sum_{i &#92;neq w}^{K} E&#92;left[Y_{x_{s}} &#92;mid x_{i}&#92;right] P&#92;left(x_{i}&#92;right)}.  " title="E&#92;left[Y_{x_{r}} &#92;mid x_{w}&#92;right]=&#92;frac{&#92;left[E&#92;left[Y_{x_{r}}&#92;right]-&#92;sum_{i &#92;neq w}^{K} E&#92;left[Y_{x_{r}} &#92;mid x_{i}&#92;right] P&#92;left(x_{i}&#92;right)&#92;right] E&#92;left[Y_{x_{s}} &#92;mid x_{w}&#92;right]}{E&#92;left[Y_{x_{s}}&#92;right]-&#92;sum_{i &#92;neq w}^{K} E&#92;left[Y_{x_{s}} &#92;mid x_{i}&#92;right] P&#92;left(x_{i}&#92;right)}.  " class="latex" /></p>
<p>This estimate is not robust to noise in the samples. We can take a pooling approach and account for variance of reward payouts by applying an inverse-variance-weighted average:</p>
<p><img src="//s0.wp.com/latex.php?latex=E_%7BX+A+r+m%7D%5Cleft%5BY_%7Bx_%7Br%7D%7D+%5Cmid+x_%7Bw%7D%5Cright%5D%3D%5Cfrac%7B%5Csum_%7Bi+%5Cneq+r%7D%5E%7BK%7D+h_%7BXArm%7D%5Cleft%28x_%7Br%7D%2C+x_%7Bw%7D%2C+x_%7Bi%7D%5Cright%29+%2F+%5Csigma_%7Bx_%7Bi%7D%2C+x_%7Bw%7D%7D%5E%7B2%7D%7D%7B%5Csum_%7Bi+%5Cneq+r%7D%5E%7BK%7D+1+%2F+%5Csigma_%7Bx_%7Bi%7D%2C+x_%7Bw%7D%7D%5E%7B2%7D%7D%2C&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="E_{X A r m}&#92;left[Y_{x_{r}} &#92;mid x_{w}&#92;right]=&#92;frac{&#92;sum_{i &#92;neq r}^{K} h_{XArm}&#92;left(x_{r}, x_{w}, x_{i}&#92;right) / &#92;sigma_{x_{i}, x_{w}}^{2}}{&#92;sum_{i &#92;neq r}^{K} 1 / &#92;sigma_{x_{i}, x_{w}}^{2}}," title="E_{X A r m}&#92;left[Y_{x_{r}} &#92;mid x_{w}&#92;right]=&#92;frac{&#92;sum_{i &#92;neq r}^{K} h_{XArm}&#92;left(x_{r}, x_{w}, x_{i}&#92;right) / &#92;sigma_{x_{i}, x_{w}}^{2}}{&#92;sum_{i &#92;neq r}^{K} 1 / &#92;sigma_{x_{i}, x_{w}}^{2}}," class="latex" /></p>
<p>where <img src="//s0.wp.com/latex.php?latex=h_%7BXArm%7D%5Cleft%28x_%7Br%7D%2C+x_%7Bw%7D%2C+x_%7Bs%7D%5Cright%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="h_{XArm}&#92;left(x_{r}, x_{w}, x_{s}&#92;right)" title="h_{XArm}&#92;left(x_{r}, x_{w}, x_{s}&#92;right)" class="latex" /> evaluates the cross-arm learning equation above, and <img src="//s0.wp.com/latex.php?latex=%5Csigma_%7Bx_%7Bi%7D%2C+i%7D%5E2&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;sigma_{x_{i}, i}^2" title="&#92;sigma_{x_{i}, i}^2" class="latex" /> is the reward variance for arm <img src="//s0.wp.com/latex.php?latex=x&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="x" title="x" class="latex" /> under intent <img src="//s0.wp.com/latex.php?latex=i&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="i" title="i" class="latex" />.</p>
<p>3. <strong>Combined Approach:</strong> Of course, we can combine the previous two approaches by sampling (collecting) estimates during execution and applying <em>cross-intent</em> and <em>cross-arm</em> learning strategies. A fairly straightforward derivation yields a combined approach formula:</p>
<p><img src="//s0.wp.com/latex.php?latex=E_%7B%5Ctext+%7Bcombo%7D%7D%5Cleft%5BY_%7Bx_%7Br%7D%7D+%5Cmid+x_%7Bw%7D%5Cright%5D%3D%5Cfrac%7B%5Calpha%7D%7B%5Cbeta%7D%2C+%5Cquad+%5Ctext%7Bwhere%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="E_{&#92;text {combo}}&#92;left[Y_{x_{r}} &#92;mid x_{w}&#92;right]=&#92;frac{&#92;alpha}{&#92;beta}, &#92;quad &#92;text{where}" title="E_{&#92;text {combo}}&#92;left[Y_{x_{r}} &#92;mid x_{w}&#92;right]=&#92;frac{&#92;alpha}{&#92;beta}, &#92;quad &#92;text{where}" class="latex" /></p>
<p><img src="//s0.wp.com/latex.php?latex=%5Calpha+%3D+E_%7B%5Ctext+%7Bsamp%7D%7D%5Cleft%5BY_%7Bx_%7Br%7D%7D+%5Cmid+x_%7Bw%7D%5Cright%5D+%2F+%5Csigma_%7Bx_%7Br%7D%2C+x_%7Bw%7D%7D%5E%7B2%7D%2BE_%7B%5Ctext+%7BXInt%7D%7D%5Cleft%5BY_%7Bx_%7Br%7D%7D+%5Cmid+x_%7Bw%7D%5Cright%5D+%2F+%5Csigma_%7BX+%5Ctext+%7BInt%7D%7D%5E%7B2%7D+%2BE_%7B%5Ctext+%7BXArm%7D%7D%5Cleft%5BY_%7Bx_%7Br%7D%7D+%5Cmid+x_%7Bw%7D%5Cright%5D+%2F+%5Csigma_%7BX+A+r+m%7D%5E%7B2%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;alpha = E_{&#92;text {samp}}&#92;left[Y_{x_{r}} &#92;mid x_{w}&#92;right] / &#92;sigma_{x_{r}, x_{w}}^{2}+E_{&#92;text {XInt}}&#92;left[Y_{x_{r}} &#92;mid x_{w}&#92;right] / &#92;sigma_{X &#92;text {Int}}^{2} +E_{&#92;text {XArm}}&#92;left[Y_{x_{r}} &#92;mid x_{w}&#92;right] / &#92;sigma_{X A r m}^{2}" title="&#92;alpha = E_{&#92;text {samp}}&#92;left[Y_{x_{r}} &#92;mid x_{w}&#92;right] / &#92;sigma_{x_{r}, x_{w}}^{2}+E_{&#92;text {XInt}}&#92;left[Y_{x_{r}} &#92;mid x_{w}&#92;right] / &#92;sigma_{X &#92;text {Int}}^{2} +E_{&#92;text {XArm}}&#92;left[Y_{x_{r}} &#92;mid x_{w}&#92;right] / &#92;sigma_{X A r m}^{2}" class="latex" /></p>
<p><img src="//s0.wp.com/latex.php?latex=%5Cbeta+%3D+1+%2F+%5Csigma_%7Bx_%7Br%7D%2C+x_%7Bw%7D%7D%5E%7B2%7D%2B1+%2F+%5Csigma_%7BX+%5Ctext+%7BInt%7D%7D%5E%7B2%7D%2B1+%2F+%5Csigma_%7BX+A+r+m%7D%5E%7B2%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;beta = 1 / &#92;sigma_{x_{r}, x_{w}}^{2}+1 / &#92;sigma_{X &#92;text {Int}}^{2}+1 / &#92;sigma_{X A r m}^{2}" title="&#92;beta = 1 / &#92;sigma_{x_{r}, x_{w}}^{2}+1 / &#92;sigma_{X &#92;text {Int}}^{2}+1 / &#92;sigma_{X A r m}^{2}" class="latex" /></p>
<p><a href="/mathemafrica/wp-content/uploads/2021/07/FPB-2017-Fig4.jpg" rel="attachment wp-att-17053"><img class=" wp-image-17053 aligncenter" src="/mathemafrica/wp-content/uploads/2021/07/FPB-2017-Fig4.jpg?resize=435%2C435" alt="FPB-2017-Fig4" srcset="/mathemafrica/wp-content/uploads/2021/07/FPB-2017-Fig4.jpg?resize=66%2C66 66w, /mathemafrica/wp-content/uploads/2021/07/FPB-2017-Fig4.jpg?resize=150%2C150 150w, /mathemafrica/wp-content/uploads/2021/07/FPB-2017-Fig4.jpg?resize=200%2C200 200w, /mathemafrica/wp-content/uploads/2021/07/FPB-2017-Fig4.jpg?resize=300%2C300 300w, /mathemafrica/wp-content/uploads/2021/07/FPB-2017-Fig4.jpg?fit=504%2C503 504w" sizes="(max-width: 435px) 100vw, 435px" data-recalc-dims="1" /></a></p>
<p>This figure shows the flow and process of fusing data using counterfactual reasoning as outlined in this section. The agent employs both the history of interventional and observational data to compute counterfactual quantities. Along with its intended action, the agent makes a counterfactual and intent aware decision to account for unobserved confounders and make use of available information. Figure extracted from [30].</p>
<p>The authors proceed to experimentally verify that this data-fusion approach, applied to Thompson Sampling, results in significantly less regret than competitive MABUC algorithms. The (conventional) gold standard for dealing with unobserved confounders involves randomised control trials (RCTs) [32], especially useful in medical drug testing, for example. As we noted in the data-fusion and earlier MABUC processes, randomisation of treatments may yield population-level treatment outcomes but can fail to account for individual-level characteristics. The authors provide a motivating example in the domain of personalised medicine, or the effect of the treatment on the treated, motivated by Stead et al.&#8217;s [33] observation that</p>
<blockquote><p><em>Despite their attention to evidence, studies repeatedly show marked variability in what healthcare providers actually do in a given situation.</em> &#8211; Stead et al.&#8217;s [33]</p></blockquote>
<p>They proceed to formalise the existence of different treatment policies of actors in confounded decision-making scenarios. This new theory is applied to generalise RCT procedures to allow recovery of individualised treatment effects from existing RCT results. Further, they present an online algorithm which can recommend actions in the face of multiple treatment opinions in the context of unobserved confounders. For the sake of clarity, the motivating example is now briefly presented. The reader is encouraged to refer to the source material [26] for further details.</p>
<p>Consider two drugs which appear to be equally effective under an FDA-approved RCT. In practice, however, one physician finds agreement with the RCT results while another does not. Let us consider two potential unobserved confounders &#8211; socioeconomic status (SES) and the patient&#8217;s treatment request (R). Crucially, we note that juxtaposing observational and experimental data fails to reveal these invisible confounders. Key to this confounded decision making (CDM) scenario is that the deciding agent (physician) do not possess a fully specified causal model (in the form of an SCM).</p>
<p>This formalism was used to define a regret decision criterion (RDC) for optimising actions in the face of unobserved confounders. In the physician motivating example we just discussed, the intent-specific recovery rates of the first physician do not appear to differ from the observational or interventional recovery rates. The results of RDC for the second physician is only slightly off the data, at 72.5%. What is happening here? The key here is the heterogeneous intents of the agents. We now develop theory to account and exploit information implicitly contained in the multiple intents of agents.</p>
<p><strong>Heterogeneous Intents [26]: </strong>Let <img src="//s0.wp.com/latex.php?latex=A_1&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="A_1" title="A_1" class="latex" /> and <img src="//s0.wp.com/latex.php?latex=A_2&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="A_2" title="A_2" class="latex" /> be two actors within a CDM instance, and <img src="//s0.wp.com/latex.php?latex=M%5E%7BA_1%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="M^{A_1}" title="M^{A_1}" class="latex" /> be the SCM associated with the choice of policies of <img src="//s0.wp.com/latex.php?latex=A_1&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="A_1" title="A_1" class="latex" /> and likewise <img src="//s0.wp.com/latex.php?latex=M%5E%7BA_2%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="M^{A_2}" title="M^{A_2}" class="latex" /> of <img src="//s0.wp.com/latex.php?latex=A_2&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="A_2" title="A_2" class="latex" />. For any decision variable <img src="//s0.wp.com/latex.php?latex=X+%5Cin+%5CPi_M&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="X &#92;in &#92;Pi_M" title="X &#92;in &#92;Pi_M" class="latex" /> and its associated intent <img src="//s0.wp.com/latex.php?latex=I+%3D+f_x&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="I = f_x" title="I = f_x" class="latex" />, the actors are said to have heterogeneous intent in <img src="//s0.wp.com/latex.php?latex=f_I%5E%7BA_1%7D+%5Cin+F_M%5E%7BA_1%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="f_I^{A_1} &#92;in F_M^{A_1}" title="f_I^{A_1} &#92;in F_M^{A_1}" class="latex" /> and <img src="//s0.wp.com/latex.php?latex=f_I%5E%7BA_2%7D+%5Cin+F_M%5E%7BA_2%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="f_I^{A_2} &#92;in F_M^{A_2}" title="f_I^{A_2} &#92;in F_M^{A_2}" class="latex" /> are distinct.</p>
<p>Acknowledging the possibility of heterogeneous intents in deciding actors (such as second opinions), we can extend the notion of SCMs. The figure below shows a model for combining intents of different agents.</p>
<p><strong>HI Structural Causal Model (HI-SCM) [26]:</strong> A heterogeneous intent structural causal model <img src="//s0.wp.com/latex.php?latex=M%5E%7B%5Cboldsymbol%7BA%7D%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="M^{&#92;boldsymbol{A}}" title="M^{&#92;boldsymbol{A}}" class="latex" /> is an SCM that combines the individual SCMs of actors <img src="//s0.wp.com/latex.php?latex=%5Cboldsymbol%7BA%7D+%3D+%5C%7B+A_%7B1%7D%2C+%5Cdots%2C+A_%7Ba%7D+%5C%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;boldsymbol{A} = &#92;{ A_{1}, &#92;dots, A_{a} &#92;}" title="&#92;boldsymbol{A} = &#92;{ A_{1}, &#92;dots, A_{a} &#92;}" class="latex" /> such that each decision variable in <img src="//s0.wp.com/latex.php?latex=M%5E%7B%5Cboldsymbol%7BA%7D%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="M^{&#92;boldsymbol{A}}" title="M^{&#92;boldsymbol{A}}" class="latex" /> is a function of each actors&#8217; individual intents.</p>
<p><a href="/mathemafrica/wp-content/uploads/2021/07/FB-2019-Fig1.jpg" rel="attachment wp-att-17054"><img class=" wp-image-17054 aligncenter" src="/mathemafrica/wp-content/uploads/2021/07/FB-2019-Fig1.jpg?resize=433%2C310" alt="FB-2019-Fig1" srcset="/mathemafrica/wp-content/uploads/2021/07/FB-2019-Fig1.jpg?resize=200%2C143 200w, /mathemafrica/wp-content/uploads/2021/07/FB-2019-Fig1.jpg?resize=300%2C215 300w, /mathemafrica/wp-content/uploads/2021/07/FB-2019-Fig1.jpg?resize=400%2C287 400w, /mathemafrica/wp-content/uploads/2021/07/FB-2019-Fig1.jpg?fit=504%2C361 504w" sizes="(max-width: 433px) 100vw, 433px" data-recalc-dims="1" /></a></p>
<p>This figure shows an example of HI-SCM. Here multiple intents of different actors contribute to the decision variable <img src="//s0.wp.com/latex.php?latex=X_t&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="X_t" title="X_t" class="latex" />. Unobserved confounder <img src="//s0.wp.com/latex.php?latex=U_t&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="U_t" title="U_t" class="latex" /> affects both the intents and the outcome. The agent history is encoded as <img src="//s0.wp.com/latex.php?latex=H_t&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="H_t" title="H_t" class="latex" />. Recreated based on figure 1 in [26].</p>
<p>Of course, it would be naive to assume every actor adds valuable information to the total knowledge of the system. With this is mind, we develop the notion of an intent equivalence class.</p>
<p><strong>Intent Equivalence Class (IEC) [26]:</strong> In a HI-SCM <img src="//s0.wp.com/latex.php?latex=M%5EA&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="M^A" title="M^A" class="latex" />, we say that any two actors <img src="//s0.wp.com/latex.php?latex=A_i+%5Cneq+A_j&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="A_i &#92;neq A_j" title="A_i &#92;neq A_j" class="latex" /> belong to separate intent equivalence classes <img src="//s0.wp.com/latex.php?latex=%5Cboldsymbol%7B%5CPhi%7D+%3D+%5C%7B+%5Cphi_1%2C+%5Cdots%2C+%5Cphi_m+%5C%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;boldsymbol{&#92;Phi} = &#92;{ &#92;phi_1, &#92;dots, &#92;phi_m &#92;}" title="&#92;boldsymbol{&#92;Phi} = &#92;{ &#92;phi_1, &#92;dots, &#92;phi_m &#92;}" class="latex" /> of intent functions <img src="//s0.wp.com/latex.php?latex=f_I&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="f_I" title="f_I" class="latex" /> if <img src="//s0.wp.com/latex.php?latex=f_I%5E%7BA_i%7D+%5Cneq+f_I%5E%7BA_j%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="f_I^{A_i} &#92;neq f_I^{A_j}" title="f_I^{A_i} &#92;neq f_I^{A_j}" class="latex" />.</p>
<p>With this definition in place, we can cluster equivalent actors &#8211; and their associated intents &#8211; by their IEC. For example, given <img src="//s0.wp.com/latex.php?latex=%5Cphi_1+%3D+%5C%7B+A_1%2C+A_2+%5C%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;phi_1 = &#92;{ A_1, A_2 &#92;}" title="&#92;phi_1 = &#92;{ A_1, A_2 &#92;}" class="latex" /> then</p>
<p><img src="//s0.wp.com/latex.php?latex=P%28Y_x+%5Cmid+I%5E%7BA_1%7D%29+%3D+P%28Y_x+%5Cmid+I%5E%7BA_2%7D%29+%3D+P%28Y_x+%5Cmid+I%5E%7BA_1%7D%2C+I%5E%7BA_2%7D%29+%3D+P%28Y_x+%5Cmid+I%5E%7B%5Cphi_1%7D%29.&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="P(Y_x &#92;mid I^{A_1}) = P(Y_x &#92;mid I^{A_2}) = P(Y_x &#92;mid I^{A_1}, I^{A_2}) = P(Y_x &#92;mid I^{&#92;phi_1})." title="P(Y_x &#92;mid I^{A_1}) = P(Y_x &#92;mid I^{A_2}) = P(Y_x &#92;mid I^{A_1}, I^{A_2}) = P(Y_x &#92;mid I^{&#92;phi_1})." class="latex" /></p>
<p>It turns out that IEC-specific optimisation is always at least equivalent to each actor&#8217;s individual optimal action.</p>
<p><strong>IEC-Specific Reward Superiority [26]:</strong> Let <img src="//s0.wp.com/latex.php?latex=X&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="X" title="X" class="latex" /> be a decision variable in a HI-SCM <img src="//s0.wp.com/latex.php?latex=M%5EA&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="M^A" title="M^A" class="latex" /> with measured outcome <img src="//s0.wp.com/latex.php?latex=Y&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="Y" title="Y" class="latex" />, and let <img src="//s0.wp.com/latex.php?latex=I%5E%7B%5Cphi_i%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="I^{&#92;phi_i}" title="I^{&#92;phi_i}" class="latex" /> and <img src="//s0.wp.com/latex.php?latex=I%5E%7B%5Cphi_j%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="I^{&#92;phi_j}" title="I^{&#92;phi_j}" class="latex" /> be the heterogeneous intents of two distinct IECs <img src="//s0.wp.com/latex.php?latex=%5Cphi_i%2C+%5Cphi_j&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;phi_i, &#92;phi_j" title="&#92;phi_i, &#92;phi_j" class="latex" /> in the set of all IECs in the system, <img src="//s0.wp.com/latex.php?latex=%5Cboldsymbol%7B%5CPhi%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;boldsymbol{&#92;Phi}" title="&#92;boldsymbol{&#92;Phi}" class="latex" />. Then</p>
<p><img src="//s0.wp.com/latex.php?latex=%5Cmax_%7Bx+%5Cin+X%7D+P%28Y_x+%5Cmid+I%5E%7B%5Cphi_i%7D%29+%5Cleq+%5Cmax_%7Bx+%5Cin+X%7D+P%28Y_x+%5Cmid+I%5E%7B%5Cphi_i%7D%2C+I%5E%7B%5Cphi_j%7D%29+%5Cquad+%5Cforall+%5Cphi_i%2C+%5Cphi_j+%5Cin+%5Cboldsymbol%7B%5CPhi%7D.&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;max_{x &#92;in X} P(Y_x &#92;mid I^{&#92;phi_i}) &#92;leq &#92;max_{x &#92;in X} P(Y_x &#92;mid I^{&#92;phi_i}, I^{&#92;phi_j}) &#92;quad &#92;forall &#92;phi_i, &#92;phi_j &#92;in &#92;boldsymbol{&#92;Phi}." title="&#92;max_{x &#92;in X} P(Y_x &#92;mid I^{&#92;phi_i}) &#92;leq &#92;max_{x &#92;in X} P(Y_x &#92;mid I^{&#92;phi_i}, I^{&#92;phi_j}) &#92;quad &#92;forall &#92;phi_i, &#92;phi_j &#92;in &#92;boldsymbol{&#92;Phi}." class="latex" /></p>
<p><strong>Proof:</strong><br />
WLOG, consider the case of a binary intents <img src="//s0.wp.com/latex.php?latex=X&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="X" title="X" class="latex" />. Let <img src="//s0.wp.com/latex.php?latex=x%5E%2A+%3D+%5Ctextbf%7Bargmax%7D_%7Bx+%5Cin+X%7D+P%28Y_x+%5Cmid+I%5E%7B%5Cphi_i%7D+%3D+i%5E%7B%5Cphi_i%7D%29.&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="x^* = &#92;textbf{argmax}_{x &#92;in X} P(Y_x &#92;mid I^{&#92;phi_i} = i^{&#92;phi_i})." title="x^* = &#92;textbf{argmax}_{x &#92;in X} P(Y_x &#92;mid I^{&#92;phi_i} = i^{&#92;phi_i})." class="latex" /> Then</p>
<p><img src="//s0.wp.com/latex.php?latex=P%5Cleft%28Y_%7Bx%7D%5E%7B%2A%7D+%5Cmid+I%5E%7B%5Cphi_%7Bi%7D%7D%3Di%5E%7B%5Cphi_%7Bi%7D%7D%5Cright%29%3EP%5Cleft%28Y_%7Bx%7D%5E%7B%5Cprime%7D+%5Cmid+I%5E%7B%5Cphi_%7Bi%7D%7D%3Di%5E%7B%5Cphi_%7Bi%7D%7D%5Cright%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="P&#92;left(Y_{x}^{*} &#92;mid I^{&#92;phi_{i}}=i^{&#92;phi_{i}}&#92;right)&gt;P&#92;left(Y_{x}^{&#92;prime} &#92;mid I^{&#92;phi_{i}}=i^{&#92;phi_{i}}&#92;right)" title="P&#92;left(Y_{x}^{*} &#92;mid I^{&#92;phi_{i}}=i^{&#92;phi_{i}}&#92;right)&gt;P&#92;left(Y_{x}^{&#92;prime} &#92;mid I^{&#92;phi_{i}}=i^{&#92;phi_{i}}&#92;right)" class="latex" /></p>
<p><img src="//s0.wp.com/latex.php?latex=%5CLongrightarrow+%5Csum_%7Bi%5E%7B%5Cphi_%7Bj%7D%7D%7D+P%5Cleft%28Y_%7Bx%5E%7B%2A%7D%7D+%5Cmid+I%5E%7B%5Cphi_%7Bi%7D%7D%3Di%5E%7B%5Cphi_%7Bi%7D%7D%2C+I%5E%7B%5Cphi_%7Bj%7D%7D%3Di%5E%7B%5Cphi_%7Bj%7D%7D%5Cright%29+P%5Cleft%28I%5E%7B%5Cphi_%7Bj%7D%7D%3Di%5E%7B%5Cphi_%7Bj%7D%7D+%5Cmid+I%5E%7B%5Cphi_%7Bi%7D%7D%3Di%5E%7B%5Cphi_%7Bi%7D%7D%5Cright%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;Longrightarrow &#92;sum_{i^{&#92;phi_{j}}} P&#92;left(Y_{x^{*}} &#92;mid I^{&#92;phi_{i}}=i^{&#92;phi_{i}}, I^{&#92;phi_{j}}=i^{&#92;phi_{j}}&#92;right) P&#92;left(I^{&#92;phi_{j}}=i^{&#92;phi_{j}} &#92;mid I^{&#92;phi_{i}}=i^{&#92;phi_{i}}&#92;right)" title="&#92;Longrightarrow &#92;sum_{i^{&#92;phi_{j}}} P&#92;left(Y_{x^{*}} &#92;mid I^{&#92;phi_{i}}=i^{&#92;phi_{i}}, I^{&#92;phi_{j}}=i^{&#92;phi_{j}}&#92;right) P&#92;left(I^{&#92;phi_{j}}=i^{&#92;phi_{j}} &#92;mid I^{&#92;phi_{i}}=i^{&#92;phi_{i}}&#92;right)" class="latex" /></p>
<p><img src="//s0.wp.com/latex.php?latex=%3E%5Csum_%7Bi%5E%7B%5Cphi_%7Bj%7D%7D%7D+P%5Cleft%28Y_%7Bx%5E%7B%5Cprime%7D%7D+%5Cmid+I%5E%7B%5Cphi_%7Bi%7D%7D%3Di%5E%7B%5Cphi_%7Bi%7D%7D%2C+I%5E%7B%5Cphi_%7Bj%7D%7D%3Di%5E%7B%5Cphi_%7Bj%7D%7D%5Cright%29+P%5Cleft%28I%5E%7B%5Cphi_%7Bj%7D%7D%3Di%5E%7B%5Cphi_%7Bj%7D%7D+%5Cmid+I%5E%7B%5Cphi_%7Bi%7D%7D%3Di%5E%7B%5Cphi_%7Bi%7D%7D%5Cright%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&gt;&#92;sum_{i^{&#92;phi_{j}}} P&#92;left(Y_{x^{&#92;prime}} &#92;mid I^{&#92;phi_{i}}=i^{&#92;phi_{i}}, I^{&#92;phi_{j}}=i^{&#92;phi_{j}}&#92;right) P&#92;left(I^{&#92;phi_{j}}=i^{&#92;phi_{j}} &#92;mid I^{&#92;phi_{i}}=i^{&#92;phi_{i}}&#92;right)" title="&gt;&#92;sum_{i^{&#92;phi_{j}}} P&#92;left(Y_{x^{&#92;prime}} &#92;mid I^{&#92;phi_{i}}=i^{&#92;phi_{i}}, I^{&#92;phi_{j}}=i^{&#92;phi_{j}}&#92;right) P&#92;left(I^{&#92;phi_{j}}=i^{&#92;phi_{j}} &#92;mid I^{&#92;phi_{i}}=i^{&#92;phi_{i}}&#92;right)" class="latex" /></p>
<p>Letting <img src="//s0.wp.com/latex.php?latex=p+%3D+P%5Cleft%28I%5E%7B%5Cphi_%7Bj%7D%7D%3Di%5E%7B%5Cphi_%7Bj%7D%7D+%5Cmid+I%5E%7B%5Cphi_%7Bi%7D%7D%3Di%5E%7B%5Cphi_%7Bi%7D%7D%5Cright%29%2C&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="p = P&#92;left(I^{&#92;phi_{j}}=i^{&#92;phi_{j}} &#92;mid I^{&#92;phi_{i}}=i^{&#92;phi_{i}}&#92;right)," title="p = P&#92;left(I^{&#92;phi_{j}}=i^{&#92;phi_{j}} &#92;mid I^{&#92;phi_{i}}=i^{&#92;phi_{i}}&#92;right)," class="latex" /> we can rewrite the above inequality as <img src="//s0.wp.com/latex.php?latex=a%28p%29+%2B+b%281-p%29+%3E+c%28p%29+%2B+d%281-p%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="a(p) + b(1-p) &gt; c(p) + d(1-p)" title="a(p) + b(1-p) &gt; c(p) + d(1-p)" class="latex" /> (corrected mistake from proof in appendix of source). We can write it as such since we are considering the binary case. Thus if we have one case occurs, necessarily the other doesn&#8217;t. We can then exhaust the cases:</p>
<ol>
<li><img src="//s0.wp.com/latex.php?latex=p+%3D+0+%5Cimplies+b+%3E+d&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="p = 0 &#92;implies b &gt; d" title="p = 0 &#92;implies b &gt; d" class="latex" />.</li>
<li><img src="//s0.wp.com/latex.php?latex=p+%3D+1+%5Cimplies+a+%3E+c&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="p = 1 &#92;implies a &gt; c" title="p = 1 &#92;implies a &gt; c" class="latex" />.</li>
<li><img src="//s0.wp.com/latex.php?latex=p+%5Cin+%280%2C1%29+%5Cimplies+%5Cmax%28a%2Cb%29+%5Cgeq+a%28p%29+%2B+b%281-p%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="p &#92;in (0,1) &#92;implies &#92;max(a,b) &#92;geq a(p) + b(1-p)" title="p &#92;in (0,1) &#92;implies &#92;max(a,b) &#92;geq a(p) + b(1-p)" class="latex" />.</li>
</ol>
<p>Thus, in each case we have that the HI-specific rewards are greater than or equal to the homogeneous-intent-specific rewards.</p>
<p>With this important result in place, we can develop new criteria for decision making in a CDM with heterogeneous intents.</p>
<p><strong>HI Regret Decision Criteria (HI-RDC) [26]:</strong> In a CDM scenario modelled by a HI-SCM <img src="//s0.wp.com/latex.php?latex=M%5EA&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="M^A" title="M^A" class="latex" /> with treatment <img src="//s0.wp.com/latex.php?latex=X&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="X" title="X" class="latex" />, outcome <img src="//s0.wp.com/latex.php?latex=Y&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="Y" title="Y" class="latex" />, actor intended treatments <img src="//s0.wp.com/latex.php?latex=I%5E%7BA_i%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="I^{A_i}" title="I^{A_i}" class="latex" />, and a set of actor IECs <img src="//s0.wp.com/latex.php?latex=%5Cboldsymbol%7B%5CPhi%7D+%3D+%5C%7B+%5Cphi_1%2C+%5Cdots%2C+%5Cphi_m+%5C%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;boldsymbol{&#92;Phi} = &#92;{ &#92;phi_1, &#92;dots, &#92;phi_m &#92;}" title="&#92;boldsymbol{&#92;Phi} = &#92;{ &#92;phi_1, &#92;dots, &#92;phi_m &#92;}" class="latex" />, the optimal treatment <img src="//s0.wp.com/latex.php?latex=x%5E%5Cast+%5Cin+X&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="x^&#92;ast &#92;in X" title="x^&#92;ast &#92;in X" class="latex" /> maximises the IEC-specific treatment outcome. Formally: <img src="//s0.wp.com/latex.php?latex=x%5E%5Cast+%3D+%5Ctextbf%7Bargmax%7D_%7Bx+%5Cin+X%7D+P%28Y_x+%5Cmid+I%5E%7B%5Cphi_1%7D%2C+%5Cdots%2C+I%5E%7B%5Cphi_m%7D%29.&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="x^&#92;ast = &#92;textbf{argmax}_{x &#92;in X} P(Y_x &#92;mid I^{&#92;phi_1}, &#92;dots, I^{&#92;phi_m})." title="x^&#92;ast = &#92;textbf{argmax}_{x &#92;in X} P(Y_x &#92;mid I^{&#92;phi_1}, &#92;dots, I^{&#92;phi_m})." class="latex" /></p>
<p>The authors point out that HI-RDC requires knowledge of IECs, which are not always obvious. This motivates the need for empirical means of clustering the actors into equivalence classes. Since these intents are observational (they are indicated by what naturally occurs), sampling and grouping by the following criteria suffices.</p>
<p><strong>Empirical IEC Clustering Criteria [26]:</strong> Let <img src="//s0.wp.com/latex.php?latex=A_i&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="A_i" title="A_i" class="latex" />, <img src="//s0.wp.com/latex.php?latex=A_j&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="A_j" title="A_j" class="latex" /> be two agents modelled by a HI-SCM, and let their associated intents be <img src="//s0.wp.com/latex.php?latex=I%5E%7BA_i%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="I^{A_i}" title="I^{A_i}" class="latex" />, <img src="//s0.wp.com/latex.php?latex=I%5E%7BA_j%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="I^{A_j}" title="I^{A_j}" class="latex" /> for some decision. We cluster agents into the same IEC, <img src="//s0.wp.com/latex.php?latex=%5C%7B+A_i%2C+A_j+%5C%7D+%5Cin+%5Cphi_r&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;{ A_i, A_j &#92;} &#92;in &#92;phi_r" title="&#92;{ A_i, A_j &#92;} &#92;in &#92;phi_r" class="latex" />, whenever their intended actions over the same units correlate. In other words, if their intent-specific treatment outcomes will agree. Correlation indicated by <img src="//s0.wp.com/latex.php?latex=%5Crho&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;rho" title="&#92;rho" class="latex" />, as is common in statistics literature. Formally:</p>
<p><img src="//s0.wp.com/latex.php?latex=%5Cbegin%7Baligned%7D++%5Crho%5Cleft%28I%5E%7BA_%7Bi%7D%7D%2C+I%5E%7BA_%7Bj%7D%7D%5Cright%29%3D1+%26+%5CLongrightarrow%5Cleft%5C%7BA_%7Bi%7D%2C+A_%7Bj%7D%5Cright%5C%7D+%5Cin+%5Cphi_%7Br%7D+%5Cin+%5CPhi+%5C%5C++%26+%5CLongrightarrow+P%5Cleft%28Y_%7Bx%7D+%5Cmid+I%5E%7BA_%7Bi%7D%7D%5Cright%29%3DP%5Cleft%28Y_%7Bx%7D+%5Cmid+I%5E%7BA_%7Bi%7D%7D%2C+I%5E%7BA_%7Bj%7D%7D%5Cright%29++%5Cend%7Baligned%7D++&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;begin{aligned}  &#92;rho&#92;left(I^{A_{i}}, I^{A_{j}}&#92;right)=1 &amp; &#92;Longrightarrow&#92;left&#92;{A_{i}, A_{j}&#92;right&#92;} &#92;in &#92;phi_{r} &#92;in &#92;Phi &#92;&#92;  &amp; &#92;Longrightarrow P&#92;left(Y_{x} &#92;mid I^{A_{i}}&#92;right)=P&#92;left(Y_{x} &#92;mid I^{A_{i}}, I^{A_{j}}&#92;right)  &#92;end{aligned}  " title="&#92;begin{aligned}  &#92;rho&#92;left(I^{A_{i}}, I^{A_{j}}&#92;right)=1 &amp; &#92;Longrightarrow&#92;left&#92;{A_{i}, A_{j}&#92;right&#92;} &#92;in &#92;phi_{r} &#92;in &#92;Phi &#92;&#92;  &amp; &#92;Longrightarrow P&#92;left(Y_{x} &#92;mid I^{A_{i}}&#92;right)=P&#92;left(Y_{x} &#92;mid I^{A_{i}}, I^{A_{j}}&#92;right)  &#92;end{aligned}  " class="latex" /></p>
<p>The authors argue that this condition can be too strict in practice and should be softened to allow for some actor-specific noise. Applying HI-RDC and empirical IEC clustering directly to the online recommendation system presented in [21] is possible but not necessarily always practical or recommended because (1) the ethics of exploring different treatment options is not always clear and (2) if UCs are present in the system and the treatment has passed experimental testing, this implies that the UCs have gone unnoticed and we &#8211; the data analysts &#8211; wouldn&#8217;t necessarily know to look for them there. This motivates the need for an extension to RCTs to involve heterogeneous intents.</p>
<p><strong>HI Randomised Control Trial (HI-RDC) [26]:</strong> Let <img src="//s0.wp.com/latex.php?latex=X&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="X" title="X" class="latex" /> be the treatment of the RCT in which all participants of the trial are randomly assigned to some experimental condition. In other words, they have been intervened on via <img src="//s0.wp.com/latex.php?latex=do%28X%3Dx%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="do(X=x)" title="do(X=x)" class="latex" /> with some measured outcome <img src="//s0.wp.com/latex.php?latex=Y&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="Y" title="Y" class="latex" />. Let <img src="//s0.wp.com/latex.php?latex=%5Cboldsymbol%7B%5CPhi%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;boldsymbol{&#92;Phi}" title="&#92;boldsymbol{&#92;Phi}" class="latex" /> be the set of all IECs for agents in the HI-SCM <img src="//s0.wp.com/latex.php?latex=M%5EA&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="M^A" title="M^A" class="latex" /> for which the RCT is meant to apply. A Heterogeneous Intent RCT (HI-RCT) is an RCT wherein treatments are randomly assigned to each participant but, in addition, the intended treatments of the sampled agents are collected for each participant.</p>
<p><a href="/mathemafrica/wp-content/uploads/2021/07/FB-2019-Fig2.jpg" rel="attachment wp-att-17055"><img class=" wp-image-17055 aligncenter" src="/mathemafrica/wp-content/uploads/2021/07/FB-2019-Fig2.jpg?resize=306%2C461" alt="FB-2019-Fig2" srcset="/mathemafrica/wp-content/uploads/2021/07/FB-2019-Fig2.jpg?resize=199%2C300 199w, /mathemafrica/wp-content/uploads/2021/07/FB-2019-Fig2.jpg?fit=387%2C584 387w" sizes="(max-width: 306px) 100vw, 306px" data-recalc-dims="1" /></a></p>
<p>This figure shows the HI-RDC procedure. The traditional RCT procedure is found by following the orange path. HI-RDC adds an additional layer of actor-intent collection over and above the traditional RCT procedure. Figure extracted form [26].</p>
<p>This procedure yields actor IECs as well as experimental, observational, counterfactual and HI-specific treatment effects. Finally, we can implement a criterion which reveals confounding beyond what a simple mix of observational and interventional data can expose.</p>
<p><strong>HI-RDC Confounding Criteria [26]:</strong> Consider a CDM scenario modelled by a HI-SCM <img src="//s0.wp.com/latex.php?latex=M%5EA&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="M^A" title="M^A" class="latex" /> with treatment <img src="//s0.wp.com/latex.php?latex=X&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="X" title="X" class="latex" />, outcome <img src="//s0.wp.com/latex.php?latex=Y&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="Y" title="Y" class="latex" />, actor intended treatments <img src="//s0.wp.com/latex.php?latex=I%5E%7BA_i%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="I^{A_i}" title="I^{A_i}" class="latex" />, and a set of actor IECs <img src="//s0.wp.com/latex.php?latex=%5CPhi+%3D+%5C%7B+%5Cphi_i%2C+%5Cdots%2C+%5Cphi_m+%5C%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;Phi = &#92;{ &#92;phi_i, &#92;dots, &#92;phi_m &#92;}" title="&#92;Phi = &#92;{ &#92;phi_i, &#92;dots, &#92;phi_m &#92;}" class="latex" />. Whenever there exists some <img src="//s0.wp.com/latex.php?latex=x+%5Cin+X%2C+i%5E%7B%5CPhi%7D+%5Cin+I%5E%7B%5CPhi%7D+%3A+P%28Y_x%29+%5Cneq+P%28Y_x+%5Cmid+i%5E%7B%5CPhi%7D%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="x &#92;in X, i^{&#92;Phi} &#92;in I^{&#92;Phi} : P(Y_x) &#92;neq P(Y_x &#92;mid i^{&#92;Phi})" title="x &#92;in X, i^{&#92;Phi} &#92;in I^{&#92;Phi} : P(Y_x) &#92;neq P(Y_x &#92;mid i^{&#92;Phi})" class="latex" /> in <img src="//s0.wp.com/latex.php?latex=M%5EA&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="M^A" title="M^A" class="latex" />, then there exists some unobserved <img src="//s0.wp.com/latex.php?latex=U&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="U" title="U" class="latex" /> such that <img src="//s0.wp.com/latex.php?latex=X+%5Cleftarrow+U+%5Crightarrow+Y&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="X &#92;leftarrow U &#92;rightarrow Y" title="X &#92;leftarrow U &#92;rightarrow Y" class="latex" />.</p>
<p>In addition to the above theory, [26] provides a procedure for an agent to attempt to repair harmful influences of unobserved confounders in an online procedure. Once again we come across the Multi-Armed Bandit with Unobserved Confounders (MABUC) in the attempt to maximise the reward (recovery in the physician example) &#8211; or minimise the regret &#8211; of the decision making process. One problem that arises in the online case is that the IECs the agent learns are not necessarily exhausitive. Let us consider whether we can find a mapping <img src="//s0.wp.com/latex.php?latex=%5CPhi_%7Bon%7D+%5Crightarrow+%5CPhi_%7Boff%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;Phi_{on} &#92;rightarrow &#92;Phi_{off}" title="&#92;Phi_{on} &#92;rightarrow &#92;Phi_{off}" class="latex" />, representing a map from the online to the offline IEC sets respectively. If we can, the HI-RDC reveals optimal treatment. If not, HI-RCT data can be used to accelerate learning by gathering a <em>calibration unit set</em> &#8211; a small sample questionnaire in which actors are asked to provide intended treatments. In the case where HI-RCT IECs correspond to the sampled offline IECs, a mapping can be made. This acts as a sort of &#8216;bootstrap&#8217; to the HI-RCT procedure by serving as a procedure to collect initial conditions for the learning process.</p>
<p><strong>Actor Calibration-Set Heuristic [26]:</strong> A collection of some <img src="//s0.wp.com/latex.php?latex=n+%3E+0&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="n &gt; 0" title="n &gt; 0" class="latex" /> calibration units from an offline HI-RDC dataset <img src="//s0.wp.com/latex.php?latex=%5Cmathcal%7BD%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;mathcal{D}" title="&#92;mathcal{D}" class="latex" /> can be used to learn the IECs of agents in an online domain. Three heuristics scores <img src="//s0.wp.com/latex.php?latex=h%28t%29+%3D+h_c%28t%29+%2B+h_d%28t%29+%2B+h_o%28t%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="h(t) = h_c(t) + h_d(t) + h_o(t)" title="h(t) = h_c(t) + h_d(t) + h_o(t)" class="latex" /> can be used to guide the selection procedure:</p>
<ol>
<li><strong>Consistency:</strong> how consistent agents in the same IEC <img src="//s0.wp.com/latex.php?latex=%5Cphi_r+%3D+%5C%7B+A_1%2C+%5Cdots%2C+A_i+%5C%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;phi_r = &#92;{ A_1, &#92;dots, A_i &#92;}" title="&#92;phi_r = &#92;{ A_1, &#92;dots, A_i &#92;}" class="latex" /> are with their intended treatment,<img src="//s0.wp.com/latex.php?latex=h_c%28t%29+%3D+%5Ctext%7BNumber+of+%7D+I_t%5EA+%5Cin+%5Cphi_r+%5Ctext%7B+agreeing+with+majority+%7D%2F%5Cmid%5Cphi_%7Br%7D%5Cmid&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="h_c(t) = &#92;text{Number of } I_t^A &#92;in &#92;phi_r &#92;text{ agreeing with majority }/&#92;mid&#92;phi_{r}&#92;mid" title="h_c(t) = &#92;text{Number of } I_t^A &#92;in &#92;phi_r &#92;text{ agreeing with majority }/&#92;mid&#92;phi_{r}&#92;mid" class="latex" /></li>
<li><strong>Diversity</strong>: how often a configuration of <img src="//s0.wp.com/latex.php?latex=I%5E%5CPhi&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="I^&#92;Phi" title="I^&#92;Phi" class="latex" /> has been chosen, favouring a diverse set of IEC intent combinations, <img src="//s0.wp.com/latex.php?latex=h_d%28t%29+%3D+1%2F%28%5Ctext%7BNumber+of+times+%7D+I%5E%5CPhi+%5Ctext%7B+appears+in+calibration+set%7D%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="h_d(t) = 1/(&#92;text{Number of times } I^&#92;Phi &#92;text{ appears in calibration set})" title="h_d(t) = 1/(&#92;text{Number of times } I^&#92;Phi &#92;text{ appears in calibration set})" class="latex" />. This acts by favouring &#8216;exploration&#8217; in terms of the IEC space.</li>
<li><strong>Optimism</strong>: a bias towards choosing units in which the randomly assig ned treatment <img src="//s0.wp.com/latex.php?latex=x_t&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="x_t" title="x_t" class="latex" /> was optimal and succeeded or suboptimal and failed,<img src="//s0.wp.com/latex.php?latex=h_o%28t%29+%3D+%5Cleft%28P%5Cleft%28Y_%7Bx_%7Bt%7D%7D+%5Cmid+I_%7Bt%7D%5E%7B%5CPhi%7D%5Cright%29%3EP%5Cleft%28Y_%7Bx%5E%7B%5Cprime%7D%7D+%5Cmid+I_%7Bt%7D%5E%7B%5CPhi%7D%5Cright%29+%5Cforall+x%5E%7B%5Cprime%7D+%5Cin+X+%5Cbackslash+x_%7Bt%7D%5Cright%29+1%5Cleft%28Y_%7Bt%7D%3D1%5Cright%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="h_o(t) = &#92;left(P&#92;left(Y_{x_{t}} &#92;mid I_{t}^{&#92;Phi}&#92;right)&gt;P&#92;left(Y_{x^{&#92;prime}} &#92;mid I_{t}^{&#92;Phi}&#92;right) &#92;forall x^{&#92;prime} &#92;in X &#92;backslash x_{t}&#92;right) 1&#92;left(Y_{t}=1&#92;right)" title="h_o(t) = &#92;left(P&#92;left(Y_{x_{t}} &#92;mid I_{t}^{&#92;Phi}&#92;right)&gt;P&#92;left(Y_{x^{&#92;prime}} &#92;mid I_{t}^{&#92;Phi}&#92;right) &#92;forall x^{&#92;prime} &#92;in X &#92;backslash x_{t}&#92;right) 1&#92;left(Y_{t}=1&#92;right)" class="latex" /><img src="//s0.wp.com/latex.php?latex=%2B%5Cleft%28P%5Cleft%28Y_%7Bx_%7Bt%7D%7D+%5Cmid+I_%7Bt%7D%5E%7B%5CPhi%7D%5Cright%29%3CP%5Cleft%28Y_%7Bx%5E%7B%5Cprime%7D%7D+%5Cmid+I_%7Bt%7D%5E%7B%5CPhi%7D%5Cright%29+%5Cexists+x%5E%7B%5Cprime%7D+%5Cin+X+%5Cbackslash+x_%7Bt%7D%5Cright%29+1%5Cleft%28Y_%7Bt%7D%3D0%5Cright%29&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="+&#92;left(P&#92;left(Y_{x_{t}} &#92;mid I_{t}^{&#92;Phi}&#92;right)&lt;P&#92;left(Y_{x^{&#92;prime}} &#92;mid I_{t}^{&#92;Phi}&#92;right) &#92;exists x^{&#92;prime} &#92;in X &#92;backslash x_{t}&#92;right) 1&#92;left(Y_{t}=0&#92;right)" title="+&#92;left(P&#92;left(Y_{x_{t}} &#92;mid I_{t}^{&#92;Phi}&#92;right)&lt;P&#92;left(Y_{x^{&#92;prime}} &#92;mid I_{t}^{&#92;Phi}&#92;right) &#92;exists x^{&#92;prime} &#92;in X &#92;backslash x_{t}&#92;right) 1&#92;left(Y_{t}=0&#92;right)" class="latex" />The calibration set is given by <img src="//s0.wp.com/latex.php?latex=h%28%5Cmathcal%7BD%7D%2C+n%29+%3D+%5C%7B+t+%5Cin+%5Cmathcal%7BD%7D+%5Cmid+n+%5Ctext%7B+highest+%7D+h%28t%29+%5C%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="h(&#92;mathcal{D}, n) = &#92;{ t &#92;in &#92;mathcal{D} &#92;mid n &#92;text{ highest } h(t) &#92;}" title="h(&#92;mathcal{D}, n) = &#92;{ t &#92;in &#92;mathcal{D} &#92;mid n &#92;text{ highest } h(t) &#92;}" class="latex" />.</li>
</ol>
<p>The authors experimentally show that agents maximising HI-specific rewards, clustering by IEC, and using calibration sets with and without the Actor Calibration-Set Heuristic, each outperforms the previous version. In other words, each step improves upon the regret the agent experiences. When compared against an <em>oracle</em> &#8211; that treated UCs as observed (unrealisable) &#8211; the agent performs well. [34] asks some interesting questions and presents intriguing results. They tackle the problem of an agent and humans having different sensory capabilities, and thereby &#8220;disagreeing&#8221; on their observations. The authors find that when leaving human intuition out of the loop &#8211; even when the agent&#8217;s sensory abilities are superior &#8211; results in worse performance. The theory presented in this section is sufficient to understand the presentation of the results in [34], and the reader is encouraged to engage with the source.</p>
<p>Now that we have considered counterfactual decision making within a causal system, we should consider how we can transfer and generalise causal results across domains. This is what the next section tackles.</p>
<h3>References</h3>
<ul>
<li>[Header Image](https://www.businesssystemsuk.co.uk/i/uploads/gallery/what%20if%20scenarios%20wfm.jpg)</li>
<li>[11] Elias Bareinboim and J. Pearl. Causal inference and the data-fusion problem.Proceedings of the NationalAcademy of Sciences, 113:7345  7352, 2016.</li>
<li>[12] Richard Sutton and Andrew Barto.Reinforcement Learning: An Introduction. MIT Press, second editionedition, 2018.</li>
<li>[21] Elias Bareinboim, Andrew Forney, and J. Pearl. Bandits with unobserved confounders: A causal approach.InNIPS, 2015.</li>
<li>[25] P. Auer, Nicol Cesa-Bianchi, and P. Fischer. Finite-time analysis of the multiarmed bandit problem.Machine Learning, 47:235256, 2004.</li>
<li>[26] Andrew Forney and Elias Bareinboim. Counterfactual randomization: Rescuing experimental studies fromobscured confounding. InAAAI, 2019.</li>
<li>[27] W. Thompson. On the likelihood that one unknown probability exceeds another in view of the evidence oftwo samples.Biometrika, 25:285294, 1933.</li>
<li>[28] J. Zhang and Elias Bareinboim. Markov decision processes with unobserved confounders : A causal ap-proach. 2016.</li>
<li>[29] I. Szita and Csaba Szepesvari. Model-based reinforcement learning with nearly tight exploration complexitybounds. InICML, 2010.</li>
<li>[30] Andrew Forney, J. Pearl, and Elias Bareinboim. Counterfactual data-fusion for online reinforcement learn-ers. InICML, 2017.</li>
<li>[31] J. Heckman. Randomization and social policy evaluation. 1991.</li>
<li>[32] R.A. Fisher.The Design of Experiments. The Design of Experiments. Oliver and Boyd, 1935.</li>
<li>[33] W. W. Stead, Starmer J. M., and M. McClellan. Beyond expert based practice.Evidence-Based Medicineand the Changing Nature of Healthcare: 2007 IOM Annual Meeting Summary, 2008.</li>
<li>[34] J. Zhang and Elias Bareinboim. Can humans be out of the loop? 2020.</li>
</ul>
<div class="notranslate"></div>
<div class="notranslate"></div>
<div class="notranslate"></div>
<div class="notranslate"></div>
<div class="notranslate"></div>
<div class="notranslate"></div>
<table class="rw-rating-table rw-ltr rw-left"><tr><td><nobr>How clear is this post?</nobr></td><td><div class="rw-left"><div class="rw-ui-container rw-class-blog-post rw-urid-170430" data-img="/mathemafrica/wp-content/uploads/2021/07/Counterfactual.jpg"></div></div></td></tr></table><div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-twitter"><a rel="nofollow" data-shared="sharing-twitter-17042" class="share-twitter sd-button share-icon no-text" href="/mathemafrica/p=17042&amp;share=twitter.html" target="_blank" title="Click to share on Twitter"><span></span><span class="sharing-screen-reader-text">Click to share on Twitter (Opens in new window)</span></a></li><li class="share-facebook"><a rel="nofollow" data-shared="sharing-facebook-17042" class="share-facebook sd-button share-icon no-text" href="/mathemafrica/p=17042&amp;share=facebook.html" target="_blank" title="Click to share on Facebook"><span></span><span class="sharing-screen-reader-text">Click to share on Facebook (Opens in new window)</span></a></li><li class="share-google-plus-1"><a rel="nofollow" data-shared="sharing-google-17042" class="share-google-plus-1 sd-button share-icon no-text" href="/mathemafrica/p=17042&amp;share=google-plus-1.html" target="_blank" title="Click to share on Google+"><span></span><span class="sharing-screen-reader-text">Click to share on Google+ (Opens in new window)</span></a></li><li class="share-print"><a rel="nofollow" data-shared="" class="share-print sd-button share-icon no-text" href="/mathemafrica/p=17042.html#print" target="_blank" title="Click to print"><span></span><span class="sharing-screen-reader-text">Click to print (Opens in new window)</span></a></li><li class="share-end"></li></ul></div></div></div>							</div>

							<div class="fusion-meta-info"><div class="fusion-meta-info-wrapper">By <span class="vcard"><span class="fn"><a href="/mathemafrica/author=86.html" title="Posts by St John Grimbly" rel="author">St John Grimbly</a></span></span><span class="fusion-inline-sep">|</span>
	
	
			<span class="updated" style="display:none;">
			2021-09-19T14:54:31+00:00		</span>
	
<span>July 10th, 2021</span><span class="fusion-inline-sep">|</span><a href="/mathemafrica/cat=19.html" rel="category">English</a>, <a href="/mathemafrica/cat=40.html" rel="category">Level: intermediate</a>, <a href="/mathemafrica/cat=1.html" rel="category">Uncategorized</a><span class="fusion-inline-sep">|</span><span class="fusion-comments"><a href="/mathemafrica/p=17042.html#comments">6 Comments</a></span></div></div>							<div class="fusion-sharing-box fusion-single-sharing-box share-box">
				<h4>Share This Story, Choose Your Platform!</h4>
				<div class="fusion-social-networks"><div class="fusion-social-networks-wrapper"><a  class="fusion-social-network-icon fusion-tooltip fusion-facebook fusion-icon-facebook" style="color:#bebdbd;" social_network="facebook" social_link="http://www.facebook.com/sharer.php?m2w&amp;s=100&amp;p&#091;url&#093;=/mathemafrica/p=17042&amp;p&.html#091;images&#093;&#091;0&#093;=/mathemafrica/wp-content/uploads/2021/07/Counterfactual.jpg&amp;p&#091;title&#093;=CRL%20Task%203%3A%20Counterfactual%20Decision%20Making" icon_color="#bebdbd" box_color="#e8e8e8" last href="http://www.facebook.com/sharer.php?m2w&amp;s=100&amp;p&#091;url&#093;=/mathemafrica/p=17042&amp;p&.html#091;images&#093;&#091;0&#093;=/mathemafrica/wp-content/uploads/2021/07/Counterfactual.jpg&amp;p&#091;title&#093;=CRL%20Task%203%3A%20Counterfactual%20Decision%20Making" target="_blank" data-placement="top" data-title="Facebook" data-toggle="tooltip" title="Facebook"><span class="screen-reader-text">Facebook</span></a><a  class="fusion-social-network-icon fusion-tooltip fusion-twitter fusion-icon-twitter" style="color:#bebdbd;" social_network="twitter" social_link="https://twitter.com/share?text=CRL%20Task%203%3A%20Counterfactual%20Decision%20Making&amp;url=http%3A%2F%2Fwww.mathemafrica.org%2F%3Fp%3D17042" icon_color="#bebdbd" box_color="#e8e8e8" last href="https://twitter.com/share?text=CRL%20Task%203%3A%20Counterfactual%20Decision%20Making&amp;url=http%3A%2F%2Fwww.mathemafrica.org%2F%3Fp%3D17042" target="_blank" data-placement="top" data-title="Twitter" data-toggle="tooltip" title="Twitter"><span class="screen-reader-text">Twitter</span></a><a  class="fusion-social-network-icon fusion-tooltip fusion-linkedin fusion-icon-linkedin" style="color:#bebdbd;" social_network="linkedin" social_link="https://www.linkedin.com/shareArticle?mini=true&amp;url=/mathemafrica/p=17042&amp;title=CRL%20Task%203%3A%20Counterfactual%20Decision%20Making&amp;summary=In%20the%20previous%20blog%20post%20we%20discussed%20some%20theory%20of%20how%20to%20select%20optimal%20and%20possibly%20optimal%20interventions%20in%20a%20causal%20framework.%20For%20those%20interested%20in%20the%20decision%20science%2C%20this%20blog%20post%20may%20be%20more%20inspiring.%20This%20next%20task%20involves%20applying%20counterfactual%20quantities%20to%20boost%20learning%20performance.%20This%20is%20clearly%20very%20important%20for%20an%20RL.html" icon_color="#bebdbd" box_color="#e8e8e8" last href="https://www.linkedin.com/shareArticle?mini=true&amp;url=/mathemafrica/p=17042&amp;title=CRL%20Task%203%3A%20Counterfactual%20Decision%20Making&amp;summary=In%20the%20previous%20blog%20post%20we%20discussed%20some%20theory%20of%20how%20to%20select%20optimal%20and%20possibly%20optimal%20interventions%20in%20a%20causal%20framework.%20For%20those%20interested%20in%20the%20decision%20science%2C%20this%20blog%20post%20may%20be%20more%20inspiring.%20This%20next%20task%20involves%20applying%20counterfactual%20quantities%20to%20boost%20learning%20performance.%20This%20is%20clearly%20very%20important%20for%20an%20RL.html" target="_blank" data-placement="top" data-title="Linkedin" data-toggle="tooltip" title="Linkedin"><span class="screen-reader-text">Linkedin</span></a><a  class="fusion-social-network-icon fusion-tooltip fusion-reddit fusion-icon-reddit" style="color:#bebdbd;" social_network="reddit" social_link="http://reddit.com/submit?url=/mathemafrica/p=17042&amp;title=CRL%20Task%203%3A%20Counterfactual%20Decision%20Making.html" icon_color="#bebdbd" box_color="#e8e8e8" last href="http://reddit.com/submit?url=/mathemafrica/p=17042&amp;title=CRL%20Task%203%3A%20Counterfactual%20Decision%20Making.html" target="_blank" data-placement="top" data-title="Reddit" data-toggle="tooltip" title="Reddit"><span class="screen-reader-text">Reddit</span></a><a  class="fusion-social-network-icon fusion-tooltip fusion-tumblr fusion-icon-tumblr" style="color:#bebdbd;" social_network="tumblr" social_link="http://www.tumblr.com/share/link?url=http%3A%2F%2Fwww.mathemafrica.org%2F%3Fp%3D17042&amp;name=CRL%20Task%203%3A%20Counterfactual%20Decision%20Making&amp;description=In%20the%20previous%20blog%20post%20we%20discussed%20some%20theory%20of%20how%20to%20select%20optimal%20and%20possibly%20optimal%20interventions%20in%20a%20causal%20framework.%20For%20those%20interested%20in%20the%20decision%20science%2C%20this%20blog%20post%20may%20be%20more%20inspiring.%20This%20next%20task%20involves%20applying%20counterfactual%20quantities%20to%20boost%20learning%20performance.%20This%20is%20clearly%20very%20important%20for%20an%20RL" icon_color="#bebdbd" box_color="#e8e8e8" last href="http://www.tumblr.com/share/link?url=http%3A%2F%2Fwww.mathemafrica.org%2F%3Fp%3D17042&amp;name=CRL%20Task%203%3A%20Counterfactual%20Decision%20Making&amp;description=In%20the%20previous%20blog%20post%20we%20discussed%20some%20theory%20of%20how%20to%20select%20optimal%20and%20possibly%20optimal%20interventions%20in%20a%20causal%20framework.%20For%20those%20interested%20in%20the%20decision%20science%2C%20this%20blog%20post%20may%20be%20more%20inspiring.%20This%20next%20task%20involves%20applying%20counterfactual%20quantities%20to%20boost%20learning%20performance.%20This%20is%20clearly%20very%20important%20for%20an%20RL" target="_blank" data-placement="top" data-title="Tumblr" data-toggle="tooltip" title="Tumblr"><span class="screen-reader-text">Tumblr</span></a><a  class="fusion-social-network-icon fusion-tooltip fusion-googleplus fusion-icon-googleplus" style="color:#bebdbd;" social_network="googleplus" social_link="https://plus.google.com/share?url=/mathemafrica/p=17042.html" icon_color="#bebdbd" box_color="#e8e8e8" last href="https://plus.google.com/share?url=/mathemafrica/p=17042.html" onclick="javascript:window.open(this.href,&#039;&#039;, &#039;menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600&#039;);return false;" target="_blank" data-placement="top" data-title="Google+" data-toggle="tooltip" title="Google+"><span class="screen-reader-text">Google+</span></a><a  class="fusion-social-network-icon fusion-tooltip fusion-pinterest fusion-icon-pinterest" style="color:#bebdbd;" social_network="pinterest" social_link="http://pinterest.com/pin/create/button/?url=http%3A%2F%2Fwww.mathemafrica.org%2F%3Fp%3D17042&amp;description=In%20the%20previous%20blog%20post%20we%20discussed%20some%20theory%20of%20how%20to%20select%20optimal%20and%20possibly%20optimal%20interventions%20in%20a%20causal%20framework.%20For%20those%20interested%20in%20the%20decision%20science%2C%20this%20blog%20post%20may%20be%20more%20inspiring.%20This%20next%20task%20involves%20applying%20counterfactual%20quantities%20to%20boost%20learning%20performance.%20This%20is%20clearly%20very%20important%20for%20an%20RL&amp;media=http%3A%2F%2Fi1.wp.com%2Fwww.mathemafrica.org%2Fwp-content%2Fuploads%2F2021%2F07%2FCounterfactual.jpg%3Ffit%3D1121%252C614" icon_color="#bebdbd" box_color="#e8e8e8" last href="http://pinterest.com/pin/create/button/?url=http%3A%2F%2Fwww.mathemafrica.org%2F%3Fp%3D17042&amp;description=In%20the%20previous%20blog%20post%20we%20discussed%20some%20theory%20of%20how%20to%20select%20optimal%20and%20possibly%20optimal%20interventions%20in%20a%20causal%20framework.%20For%20those%20interested%20in%20the%20decision%20science%2C%20this%20blog%20post%20may%20be%20more%20inspiring.%20This%20next%20task%20involves%20applying%20counterfactual%20quantities%20to%20boost%20learning%20performance.%20This%20is%20clearly%20very%20important%20for%20an%20RL&amp;media=http%3A%2F%2Fi1.wp.com%2Fwww.mathemafrica.org%2Fwp-content%2Fuploads%2F2021%2F07%2FCounterfactual.jpg%3Ffit%3D1121%252C614" target="_blank" data-placement="top" data-title="Pinterest" data-toggle="tooltip" title="Pinterest"><span class="screen-reader-text">Pinterest</span></a><a  class="fusion-social-network-icon fusion-tooltip fusion-vk fusion-icon-vk" style="color:#bebdbd;" social_network="vk" social_link="http://vkontakte.ru/share.php?url=http%3A%2F%2Fwww.mathemafrica.org%2F%3Fp%3D17042&amp;title=CRL%20Task%203%3A%20Counterfactual%20Decision%20Making&amp;description=In%20the%20previous%20blog%20post%20we%20discussed%20some%20theory%20of%20how%20to%20select%20optimal%20and%20possibly%20optimal%20interventions%20in%20a%20causal%20framework.%20For%20those%20interested%20in%20the%20decision%20science%2C%20this%20blog%20post%20may%20be%20more%20inspiring.%20This%20next%20task%20involves%20applying%20counterfactual%20quantities%20to%20boost%20learning%20performance.%20This%20is%20clearly%20very%20important%20for%20an%20RL" icon_color="#bebdbd" box_color="#e8e8e8" last href="http://vkontakte.ru/share.php?url=http%3A%2F%2Fwww.mathemafrica.org%2F%3Fp%3D17042&amp;title=CRL%20Task%203%3A%20Counterfactual%20Decision%20Making&amp;description=In%20the%20previous%20blog%20post%20we%20discussed%20some%20theory%20of%20how%20to%20select%20optimal%20and%20possibly%20optimal%20interventions%20in%20a%20causal%20framework.%20For%20those%20interested%20in%20the%20decision%20science%2C%20this%20blog%20post%20may%20be%20more%20inspiring.%20This%20next%20task%20involves%20applying%20counterfactual%20quantities%20to%20boost%20learning%20performance.%20This%20is%20clearly%20very%20important%20for%20an%20RL" target="_blank" data-placement="top" data-title="Vk" data-toggle="tooltip" title="Vk"><span class="screen-reader-text">Vk</span></a><a  class="fusion-social-network-icon fusion-tooltip fusion-mail fusion-icon-mail fusion-last-social-icon" style="color:#bebdbd;" social_network="mail" social_link="mailto:?subject=CRL Task 3: Counterfactual Decision Making&amp;body=/mathemafrica/p=17042.html" icon_color="#bebdbd" box_color="#e8e8e8" last="1" href="mailto:?subject=CRL Task 3: Counterfactual Decision Making&amp;body=/mathemafrica/p=17042.html" target="_self" data-placement="top" data-title="Email" data-toggle="tooltip" title="Email"><span class="screen-reader-text">Email</span></a><div class="fusion-clearfix"></div></div></div>			</div>
												<div class="about-author">
												<div class="fusion-title fusion-title-size-three sep-double" style="margin-top:0px;margin-bottom:31px;"><h3 class="title-heading-left">About the Author: 						<a href="/mathemafrica/author=86.html" title="Posts by St John Grimbly" rel="author">St John Grimbly</a>						</h3><div class="title-sep-container"><div class="title-sep sep-double"></div></div></div>						<div class="about-author-container">
							<div class="avatar">
								<img alt='' src='http://0.gravatar.com/avatar/9b4baba7bc85ca35ac84559a5c1111bd?s=72&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/9b4baba7bc85ca35ac84559a5c1111bd?s=144&amp;d=mm&amp;r=g 2x' class='avatar avatar-72 photo' height='72' width='72' />							</div>
							<div class="description">
								Hi everyone! I'm St John, a MSc Applied Mathematics student at UCT. I'm currently working on improving the reasoning of reinforcement learning agents with a special focus on causality. You can find some of my posts on mathemafrica.org or stjohngrimbly.com. Pop a message if you're interested in chatting!							</div>
						</div>
					</div>
								
														

	<div id="comments" class="comments-container">
		<div class="fusion-title fusion-title-size-three sep-double" style="margin-top:0px;margin-bottom:31px;"><h3 class="title-heading-left">		6 Comments		</h3><div class="title-sep-container"><div class="title-sep sep-double"></div></div></div>
							
		<ol class="comment-list commentlist">
							<li class="pingback even thread-even depth-1" id="comment-1979">
			<div class="the-comment">
				<div class="avatar"></div>
				<div class="comment-box">
					<div class="comment-author meta">
						<strong><a href='/mathemafrica/p=17025.html' rel='external nofollow' class='url'>CRL Task 2: Interventions &#8211; When and Where? &#8211; Mathemafrica</a></strong>
						August 7, 2021 at 10:54 am<a rel='nofollow' class='comment-reply-link' href='/mathemafrica/p=17042&#038;replytocom=1979.html#respond' onclick='return addComment.moveForm( "comment-1979", "1979", "respond", "17042" )' aria-label='Reply to CRL Task 2: Interventions &#8211; When and Where? &#8211; Mathemafrica'> - Reply</a>					</div>
					<div class="comment-text">
												<p>[&#8230;] Previous Next [&#8230;]</p>
					</div>
				</div>
			</div>
		</li><!-- #comment-## -->
				<li class="pingback odd alt thread-odd thread-alt depth-1" id="comment-1980">
			<div class="the-comment">
				<div class="avatar"></div>
				<div class="comment-box">
					<div class="comment-author meta">
						<strong><a href='/mathemafrica/p=16947.html' rel='external nofollow' class='url'>Preliminaries for CRL &#8211; Mathemafrica</a></strong>
						August 7, 2021 at 10:54 am<a rel='nofollow' class='comment-reply-link' href='/mathemafrica/p=17042&#038;replytocom=1980.html#respond' onclick='return addComment.moveForm( "comment-1980", "1980", "respond", "17042" )' aria-label='Reply to Preliminaries for CRL &#8211; Mathemafrica'> - Reply</a>					</div>
					<div class="comment-text">
												<p>[&#8230;] CRL Task 3: Counterfactual Decision Making [&#8230;]</p>
					</div>
				</div>
			</div>
		</li><!-- #comment-## -->
				<li class="pingback even thread-even depth-1" id="comment-1982">
			<div class="the-comment">
				<div class="avatar"></div>
				<div class="comment-box">
					<div class="comment-author meta">
						<strong><a href='/mathemafrica/p=16931.html' rel='external nofollow' class='url'>Causal Reinforcement Learning: A Primer &#8211; Mathemafrica</a></strong>
						September 19, 2021 at 2:31 pm<a rel='nofollow' class='comment-reply-link' href='/mathemafrica/p=17042&#038;replytocom=1982.html#respond' onclick='return addComment.moveForm( "comment-1982", "1982", "respond", "17042" )' aria-label='Reply to Causal Reinforcement Learning: A Primer &#8211; Mathemafrica'> - Reply</a>					</div>
					<div class="comment-text">
												<p>[&#8230;] CRL Task 3: Counterfactual Decision Making [&#8230;]</p>
					</div>
				</div>
			</div>
		</li><!-- #comment-## -->
				<li class="pingback odd alt thread-odd thread-alt depth-1" id="comment-1984">
			<div class="the-comment">
				<div class="avatar"></div>
				<div class="comment-box">
					<div class="comment-author meta">
						<strong><a href='/mathemafrica/p=16997.html' rel='external nofollow' class='url'>CRL Task 1: Generalised Policy Learning &#8211; Mathemafrica</a></strong>
						September 19, 2021 at 2:55 pm<a rel='nofollow' class='comment-reply-link' href='/mathemafrica/p=17042&#038;replytocom=1984.html#respond' onclick='return addComment.moveForm( "comment-1984", "1984", "respond", "17042" )' aria-label='Reply to CRL Task 1: Generalised Policy Learning &#8211; Mathemafrica'> - Reply</a>					</div>
					<div class="comment-text">
												<p>[&#8230;] CRL Task 3: Counterfactual Decision Making [&#8230;]</p>
					</div>
				</div>
			</div>
		</li><!-- #comment-## -->
				<li class="comment even thread-even depth-1" id="comment-2030">
			<div class="the-comment">
				<div class="avatar"><img alt='' src='http://2.gravatar.com/avatar/2afa2ce02e4446512fa8692b058b6a19?s=54&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/2afa2ce02e4446512fa8692b058b6a19?s=108&amp;d=mm&amp;r=g 2x' class='avatar avatar-54 photo' height='54' width='54' /></div>
				<div class="comment-box">
					<div class="comment-author meta">
						<strong>Peter Z</strong>
						August 7, 2022 at 11:04 am<a rel='nofollow' class='comment-reply-link' href='/mathemafrica/p=17042&#038;replytocom=2030.html#respond' onclick='return addComment.moveForm( "comment-2030", "2030", "respond", "17042" )' aria-label='Reply to Peter Z'> - Reply</a>					</div>
					<div class="comment-text">
												<p>Hi, for CRL, I want to know that is &#8220;state&#8221; in MDP a Confounder? Because that state influence action and reward, which a common cause for action and reward.</p>
					</div>
				</div>
			</div>
		<ul class="children">
				<li class="comment byuser comment-author-st-john bypostauthor odd alt depth-2" id="comment-2033">
			<div class="the-comment">
				<div class="avatar"><img alt='' src='http://0.gravatar.com/avatar/9b4baba7bc85ca35ac84559a5c1111bd?s=54&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/9b4baba7bc85ca35ac84559a5c1111bd?s=108&amp;d=mm&amp;r=g 2x' class='avatar avatar-54 photo' height='54' width='54' /></div>
				<div class="comment-box">
					<div class="comment-author meta">
						<strong><a href='http://stjohngrimbly.com' rel='external nofollow' class='url'>St John Grimbly</a></strong>
						August 11, 2022 at 10:22 am<a rel='nofollow' class='comment-reply-link' href='/mathemafrica/p=17042&#038;replytocom=2033.html#respond' onclick='return addComment.moveForm( "comment-2033", "2033", "respond", "17042" )' aria-label='Reply to St John Grimbly'> - Reply</a>					</div>
					<div class="comment-text">
												<p>Hi Peter. Your intuition is certainly correct. In an MDP, the environment transitions from one state to another based on the action selected. Like you say, the structure of the MDP technically means that &#8220;state&#8221; is a confounder if we think of our input as action and output as reward. We can technically call any common cause structure like this a confounder. See <a href="https://en.wikipedia.org/wiki/Confounding#/media/File:Simple_Confounding_Case.svg" rel="nofollow">https://en.wikipedia.org/wiki/Confounding#/media/File:Simple_Confounding_Case.svg</a></p>
<p>The problem is we usually use this language when a variable that is not of interest is influencing your input and output. In the case of an MDP, the state and action are of central interest. i.e. Your input is both state and action, output being reward. In this sense, it is a bit meaningless to talk about state confounding an action &#8211; this is the behaviour one is looking for. If it wasn&#8217;t a &#8220;confounder&#8221; (e.g. If we removed it from the decision making) then an agent would just choose its &#8220;best&#8221; action regardless of the state it finds itself in.</p>
<p>With that said, the MDP was not formulated in the same way that causal models are set up. If you want to consider a formulation of the MDP in terms of causal models (confounding, counterfactuals), take a look at these papers (non-exhaustive):<br />
<a href="https://causalai.net/mdp-causal.pdf" rel="nofollow">https://causalai.net/mdp-causal.pdf</a><br />
<a href="https://arxiv.org/pdf/1811.06272.pdf" rel="nofollow">https://arxiv.org/pdf/1811.06272.pdf</a></p>
<p>Let me know if you need any clarification.</p>
					</div>
				</div>
			</div>
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

								</div>

	
			
		<div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/?p=17042#respond" style="display:none;">Cancel reply</a></small></h3>
			<form id="commentform" class="comment-form">
				<iframe src="https://jetpack.wordpress.com/jetpack-comment/?blogid=96869864&#038;postid=17042&#038;comment_registration=0&#038;require_name_email=1&#038;stc_enabled=0&#038;stb_enabled=1&#038;show_avatars=1&#038;avatar_default=mystery&#038;greeting=Leave+a+Reply&#038;greeting_reply=Leave+a+Reply+to+%25s&#038;color_scheme=light&#038;lang=en_US&#038;jetpack_version=4.0.7&#038;sig=65d0f3da2dd333e061f242e9d9bc986aeb532fac#parent=http%3A%2F%2Fwww.mathemafrica.org%2F%3Fp%3D17042" allowtransparency="false" style="width:100%; height: 430px;border:0;" frameBorder="0" scrolling="no" name="jetpack_remote_comment" id="jetpack_remote_comment"></iframe>
			</form>
		</div>

		
		<input type="hidden" name="comment_parent" id="comment_parent" value="" />

		
									</div>
		</div>
<div id="sidebar" class="sidebar fusion-widget-area fusion-content-widget-area" style="float: right;">
			
			
			<div id="search-5" class="widget widget_search"><form role="search" class="searchform" method="get" action="/mathemafrica/">
	<div class="search-table">
		<div class="search-field">
			<input type="text" value="" name="s" class="s" placeholder="Search ..." />
		</div>
		<div class="search-button">
			<input type="submit" class="searchsubmit" value="&#xf002;" />
		</div>
	</div>
<input type='hidden' name='lang' value='en' /></form>
</div><div id="pyre_tabs-widget-7" class="widget fusion-tabs-widget pyre_tabs">		<div class="tab-holder tabs-widget">

			<div class="tab-hold tabs-wrapper">

				<ul id="tabs" class="tabset tabs">

											<li><a href="#tab-popular">Popular</a></li>
					
											<li><a href="#tab-recent">Recent</a></li>
					
											<li><a href="#tab-comments"><span class="fusion-icon-bubbles"></span><span class="screen-reader-text">Comments</span></a></li>
					
				</ul>

				<div class="tab-box tabs-container">

					
						<div id="tab-popular" class="tab tab_content" style="display: none;">
							
							<ul class="news-list">
																											<li>
											
											<div class="post-holder">
												<a href="/mathemafrica/p=10707.html">Ishango, The Cradle of Mathematics</a>
												<div class="fusion-meta">
													June 20th, 2015												</div>
											</div>
										</li>
																			<li>
											
											<div class="post-holder">
												<a href="/mathemafrica/p=13464.html">On the place of struggle within Mathematics &#8211; how to truly get rid of distractions</a>
												<div class="fusion-meta">
													June 16th, 2017												</div>
											</div>
										</li>
																			<li>
											
											<div class="post-holder">
												<a href="/mathemafrica/p=12464.html">Mathematical induction with an inequality</a>
												<div class="fusion-meta">
													March 9th, 2016												</div>
											</div>
										</li>
									
																								</ul>
						</div>

					
					
						<div id="tab-recent" class="tab tab_content" style="display: none;">
							
							<ul class="news-list">
																											<li>
																						<div class="post-holder">
												<a href="/mathemafrica/p=17208.html">Do Plants Know Math: Unwinding the Story of Plant Spirals, from Leonardo da Vinci to Now, a Review</a>
												<div class="fusion-meta">
													October 27th, 2024												</div>
											</div>
										</li>
																			<li>
																						<div class="post-holder">
												<a href="/mathemafrica/p=17200.html">Thoughts on thesis structure</a>
												<div class="fusion-meta">
													July 17th, 2024												</div>
											</div>
										</li>
																			<li>
																						<div class="post-holder">
												<a href="/mathemafrica/p=17195.html">So simple a beginning &#8211; How four physical principles shape our living world, by Raghuveer Parthasarathy &#8211; a review</a>
												<div class="fusion-meta">
													June 5th, 2024												</div>
											</div>
										</li>
																																	</ul>
						</div>
					
					
						<div id="tab-comments" class="tab tab_content" style="display: none;">
							<ul class="news-list">
								
																											<li>
											<div class="image">
												<a><img alt='' src='http://1.gravatar.com/avatar/dfbc2dfbd190f9ca5fd9dc0122e821d9?s=52&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/dfbc2dfbd190f9ca5fd9dc0122e821d9?s=104&amp;d=mm&amp;r=g 2x' class='avatar avatar-52 photo' height='52' width='52' /></a>
											</div>

											<div class="post-holder">
												<p>Thabiso Mtsweni says:</p>
												<div class="fusion-meta">
													<a class="comment-text-side" href="/mathemafrica/p=10779.html#comment-2116" title="Thabiso Mtsweni on UCT MAM1000 lecture notes 1 (part ii) - integration by substitution - review.">Thank you very much prof.</a>
												</div>
											</div>
										</li>
																			<li>
											<div class="image">
												<a><img alt='' src='http://2.gravatar.com/avatar/26368babdb23340d3dbce1095ec672e3?s=52&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/26368babdb23340d3dbce1095ec672e3?s=104&amp;d=mm&amp;r=g 2x' class='avatar avatar-52 photo' height='52' width='52' /></a>
											</div>

											<div class="post-holder">
												<p>Gabriel Tellez says:</p>
												<div class="fusion-meta">
													<a class="comment-text-side" href="/mathemafrica/p=15812.html#comment-2113" title="Gabriel Tellez on What's the shortest known Normal Number?">The prime numbers also form a normal number so you can do&hellip;</a>
												</div>
											</div>
										</li>
																			<li>
											<div class="image">
												<a><img alt='' src='http://0.gravatar.com/avatar/6220c486bc610466530f3c1e5fd53ad2?s=52&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/6220c486bc610466530f3c1e5fd53ad2?s=104&amp;d=mm&amp;r=g 2x' class='avatar avatar-52 photo' height='52' width='52' /></a>
											</div>

											<div class="post-holder">
												<p>Kamo says:</p>
												<div class="fusion-meta">
													<a class="comment-text-side" href="/mathemafrica/p=12464.html#comment-2109" title="Kamo on Mathematical induction with an inequality">Not sleeping until I fully understand mathematical induction. Thank you Prof. Shock!</a>
												</div>
											</div>
										</li>
																								</ul>
						</div>

									</div>
			</div>
		</div>
		</div><div id="categories-8" class="widget widget_categories"><div class="heading"><h4 class="widget-title">Categories</h4></div>		<ul>
	<li class="cat-item cat-item-49"><a href="/mathemafrica/cat=49.html" >Advertising</a>
</li>
	<li class="cat-item cat-item-17"><a href="/mathemafrica/cat=17.html" >Background</a>
</li>
	<li class="cat-item cat-item-135"><a href="/mathemafrica/cat=135.html" >Competition</a>
</li>
	<li class="cat-item cat-item-117"><a href="/mathemafrica/cat=117.html" >Conference</a>
<ul class='children'>
	<li class="cat-item cat-item-306"><a href="/mathemafrica/cat=306.html" >Diversifying the curriculum</a>
</li>
	<li class="cat-item cat-item-118"><a href="/mathemafrica/cat=118.html" >Elephant Delta 2015</a>
</li>
</ul>
</li>
	<li class="cat-item cat-item-36"><a href="/mathemafrica/cat=36.html" >Conference advert</a>
</li>
	<li class="cat-item cat-item-120"><a href="/mathemafrica/cat=120.html" >Courses</a>
<ul class='children'>
	<li class="cat-item cat-item-121"><a href="/mathemafrica/cat=121.html" >Undergraduate</a>
	<ul class='children'>
	<li class="cat-item cat-item-122"><a href="/mathemafrica/cat=122.html" >First year</a>
		<ul class='children'>
	<li class="cat-item cat-item-123"><a href="/mathemafrica/cat=123.html" >MAM1000</a>
</li>
	<li class="cat-item cat-item-319"><a href="/mathemafrica/cat=319.html" >MAM1019H</a>
</li>
		</ul>
</li>
	</ul>
</li>
</ul>
</li>
	<li class="cat-item cat-item-19"><a href="/mathemafrica/cat=19.html" >English</a>
</li>
	<li class="cat-item cat-item-16"><a href="/mathemafrica/cat=16.html" >Event</a>
</li>
	<li class="cat-item cat-item-132"><a href="/mathemafrica/cat=132.html" >Fun</a>
</li>
	<li class="cat-item cat-item-42"><a href="/mathemafrica/cat=42.html" >Job advert</a>
</li>
	<li class="cat-item cat-item-40"><a href="/mathemafrica/cat=40.html" >Level: intermediate</a>
</li>
	<li class="cat-item cat-item-27"><a href="/mathemafrica/cat=27.html" >Level: Simple</a>
</li>
	<li class="cat-item cat-item-47"><a href="/mathemafrica/cat=47.html" >Mathematica</a>
</li>
	<li class="cat-item cat-item-18"><a href="/mathemafrica/cat=18.html" >News</a>
</li>
	<li class="cat-item cat-item-128"><a href="/mathemafrica/cat=128.html" >Reviews</a>
<ul class='children'>
	<li class="cat-item cat-item-129"><a href="/mathemafrica/cat=129.html" >Book reviews</a>
</li>
</ul>
</li>
	<li class="cat-item cat-item-1"><a href="/mathemafrica/cat=1.html" >Uncategorized</a>
</li>
		</ul>
</div>		<div id="recent-posts-6" class="widget widget_recent_entries">		<div class="heading"><h4 class="widget-title">Recent Posts</h4></div>		<ul>
					<li>
				<a href="/mathemafrica/p=17208.html">Do Plants Know Math: Unwinding the Story of Plant Spirals, from Leonardo da Vinci to Now, a Review</a>
						</li>
					<li>
				<a href="/mathemafrica/p=17200.html">Thoughts on thesis structure</a>
						</li>
					<li>
				<a href="/mathemafrica/p=17195.html">So simple a beginning &#8211; How four physical principles shape our living world, by Raghuveer Parthasarathy &#8211; a review</a>
						</li>
					<li>
				<a href="/mathemafrica/p=17190.html">The Einsteinian Revolution &#8211; The Historical Roots of his Breakthroughs, by Hanoch Gutfreund and Jrgen Renn &#8211; a review</a>
						</li>
					<li>
				<a href="/mathemafrica/p=17186.html">The Beauty of Falling: A Life in Pursuit of Gravity by Claudia de Rham &#8211; a review</a>
						</li>
				</ul>
		</div>			</div>
									</div>  <!-- fusion-row -->
			</div>  <!-- #main -->
			
			
			
			
										
				<div class="fusion-footer">

																
						<footer class="fusion-footer-widget-area fusion-widget-area">
							<div class="fusion-row">
								<div class="fusion-columns fusion-columns-3 fusion-widget-area">
									
																																							<div class="fusion-column col-lg-4 col-md-4 col-sm-4">
												<div id="tag_cloud-3" class="fusion-footer-widget-column widget widget_tag_cloud"><h4 class="widget-title">Tags</h4><div class="tagcloud"><a href='/mathemafrica/tag=aims.html' class='tag-link-30' title='3 topics' style='font-size: 9.18309859155pt;'>AIMS</a>
<a href='/mathemafrica/tag=book.html' class='tag-link-204' title='3 topics' style='font-size: 9.18309859155pt;'>book</a>
<a href='/mathemafrica/tag=book-review.html' class='tag-link-130' title='27 topics' style='font-size: 17.5633802817pt;'>Book Review</a>
<a href='/mathemafrica/tag=causal-inference.html' class='tag-link-351' title='6 topics' style='font-size: 11.6478873239pt;'>causal inference</a>
<a href='/mathemafrica/tag=coding.html' class='tag-link-46' title='2 topics' style='font-size: 8pt;'>coding</a>
<a href='/mathemafrica/tag=combinatorics.html' class='tag-link-83' title='3 topics' style='font-size: 9.18309859155pt;'>combinatorics</a>
<a href='/mathemafrica/tag=competition.html' class='tag-link-72' title='3 topics' style='font-size: 9.18309859155pt;'>competition</a>
<a href='/mathemafrica/tag=complex-numbers.html' class='tag-link-61' title='15 topics' style='font-size: 15.0985915493pt;'>complex numbers</a>
<a href='/mathemafrica/tag=conference.html' class='tag-link-114' title='4 topics' style='font-size: 10.1690140845pt;'>Conference</a>
<a href='/mathemafrica/tag=contest.html' class='tag-link-314' title='6 topics' style='font-size: 11.6478873239pt;'>contest</a>
<a href='/mathemafrica/tag=differential-equations.html' class='tag-link-66' title='7 topics' style='font-size: 12.1408450704pt;'>differential equations</a>
<a href='/mathemafrica/tag=elephant-delta.html' class='tag-link-115' title='31 topics' style='font-size: 18.1549295775pt;'>Elephant Delta</a>
<a href='/mathemafrica/tag=english.html' class='tag-link-76' title='7 topics' style='font-size: 12.1408450704pt;'>English</a>
<a href='/mathemafrica/tag=fibonacci.html' class='tag-link-105' title='4 topics' style='font-size: 10.1690140845pt;'>Fibonacci</a>
<a href='/mathemafrica/tag=fundamental-theorem-of-calculus.html' class='tag-link-309' title='5 topics' style='font-size: 10.9577464789pt;'>fundamental theorem of calculus</a>
<a href='/mathemafrica/tag=game-theory.html' class='tag-link-79' title='3 topics' style='font-size: 9.18309859155pt;'>Game Theory</a>
<a href='/mathemafrica/tag=graph-theory.html' class='tag-link-43' title='4 topics' style='font-size: 10.1690140845pt;'>graph theory</a>
<a href='/mathemafrica/tag=group-theory.html' class='tag-link-202' title='3 topics' style='font-size: 9.18309859155pt;'>group theory</a>
<a href='/mathemafrica/tag=induction.html' class='tag-link-106' title='4 topics' style='font-size: 10.1690140845pt;'>induction</a>
<a href='/mathemafrica/tag=integration.html' class='tag-link-195' title='5 topics' style='font-size: 10.9577464789pt;'>integration</a>
<a href='/mathemafrica/tag=lecture-notes.html' class='tag-link-54' title='36 topics' style='font-size: 18.7464788732pt;'>Lecture notes</a>
<a href='/mathemafrica/tag=level-simple.html' class='tag-link-78' title='2 topics' style='font-size: 8pt;'>Level: Simple</a>
<a href='/mathemafrica/tag=linear-algebra.html' class='tag-link-90' title='3 topics' style='font-size: 9.18309859155pt;'>linear algebra</a>
<a href='/mathemafrica/tag=machine-learning.html' class='tag-link-124' title='12 topics' style='font-size: 14.2112676056pt;'>machine learning</a>
<a href='/mathemafrica/tag=mam1000w.html' class='tag-link-155' title='9 topics' style='font-size: 13.1267605634pt;'>MAM1000W</a>
<a href='/mathemafrica/tag=mam1000.html' class='tag-link-53' title='79 topics' style='font-size: 22pt;'>MAM1000W</a>
<a href='/mathemafrica/tag=mathematics.html' class='tag-link-138' title='7 topics' style='font-size: 12.1408450704pt;'>Mathematics</a>
<a href='/mathemafrica/tag=numberphile.html' class='tag-link-266' title='3 topics' style='font-size: 9.18309859155pt;'>Numberphile</a>
<a href='/mathemafrica/tag=number-theory.html' class='tag-link-45' title='6 topics' style='font-size: 11.6478873239pt;'>number theory</a>
<a href='/mathemafrica/tag=p-values.html' class='tag-link-326' title='3 topics' style='font-size: 9.18309859155pt;'>p-values</a>
<a href='/mathemafrica/tag=princeton-university-press.html' class='tag-link-245' title='3 topics' style='font-size: 9.18309859155pt;'>Princeton university press</a>
<a href='/mathemafrica/tag=probability.html' class='tag-link-144' title='5 topics' style='font-size: 10.9577464789pt;'>probability</a>
<a href='/mathemafrica/tag=proof-by-contradiction.html' class='tag-link-162' title='3 topics' style='font-size: 9.18309859155pt;'>Proof by contradiction</a>
<a href='/mathemafrica/tag=real-analysis.html' class='tag-link-364' title='3 topics' style='font-size: 9.18309859155pt;'>real analysis</a>
<a href='/mathemafrica/tag=reinforcement-learning.html' class='tag-link-366' title='5 topics' style='font-size: 10.9577464789pt;'>reinforcement learning</a>
<a href='/mathemafrica/tag=relativity.html' class='tag-link-304' title='3 topics' style='font-size: 9.18309859155pt;'>relativity</a>
<a href='/mathemafrica/tag=resource-book.html' class='tag-link-140' title='5 topics' style='font-size: 10.9577464789pt;'>Resource book</a>
<a href='/mathemafrica/tag=review.html' class='tag-link-201' title='4 topics' style='font-size: 10.1690140845pt;'>Review</a>
<a href='/mathemafrica/tag=riemann-sum.html' class='tag-link-241' title='3 topics' style='font-size: 9.18309859155pt;'>Riemann sum</a>
<a href='/mathemafrica/tag=samo.html' class='tag-link-313' title='4 topics' style='font-size: 10.1690140845pt;'>SAMO</a>
<a href='/mathemafrica/tag=statistics.html' class='tag-link-261' title='18 topics' style='font-size: 15.8873239437pt;'>statistics</a>
<a href='/mathemafrica/tag=teaching.html' class='tag-link-146' title='3 topics' style='font-size: 9.18309859155pt;'>teaching</a>
<a href='/mathemafrica/tag=uct.html' class='tag-link-56' title='35 topics' style='font-size: 18.6478873239pt;'>UCT</a>
<a href='/mathemafrica/tag=vectors.html' class='tag-link-85' title='5 topics' style='font-size: 10.9577464789pt;'>vectors</a>
<a href='/mathemafrica/tag=volumes-of-revolution.html' class='tag-link-194' title='3 topics' style='font-size: 9.18309859155pt;'>volumes of revolution</a></div>
<div style="clear:both;"></div></div>																																				</div>
																																								<div class="fusion-column col-lg-4 col-md-4 col-sm-4">
												<div id="archives-4" class="fusion-footer-widget-column widget widget_archive"><h4 class="widget-title">Archives</h4>		<ul>
			<li><a href='/mathemafrica/m=202410.html'>October 2024 (1)</a></li>
	<li><a href='/mathemafrica/m=202407.html'>July 2024 (1)</a></li>
	<li><a href='/mathemafrica/m=202406.html'>June 2024 (1)</a></li>
	<li><a href='/mathemafrica/m=202405.html'>May 2024 (1)</a></li>
	<li><a href='/mathemafrica/m=202403.html'>March 2024 (2)</a></li>
	<li><a href='/mathemafrica/m=202312.html'>December 2023 (1)</a></li>
	<li><a href='/mathemafrica/m=202311.html'>November 2023 (1)</a></li>
	<li><a href='/mathemafrica/m=202305.html'>May 2023 (1)</a></li>
	<li><a href='/mathemafrica/m=202304.html'>April 2023 (1)</a></li>
	<li><a href='/mathemafrica/m=202301.html'>January 2023 (2)</a></li>
	<li><a href='/mathemafrica/m=202211.html'>November 2022 (1)</a></li>
	<li><a href='/mathemafrica/m=202210.html'>October 2022 (1)</a></li>
	<li><a href='/mathemafrica/m=202205.html'>May 2022 (1)</a></li>
	<li><a href='/mathemafrica/m=202204.html'>April 2022 (3)</a></li>
	<li><a href='/mathemafrica/m=202112.html'>December 2021 (1)</a></li>
	<li><a href='/mathemafrica/m=202109.html'>September 2021 (1)</a></li>
	<li><a href='/mathemafrica/m=202107.html'>July 2021 (3)</a></li>
	<li><a href='/mathemafrica/m=202104.html'>April 2021 (1)</a></li>
	<li><a href='/mathemafrica/m=202102.html'>February 2021 (1)</a></li>
	<li><a href='/mathemafrica/m=202101.html'>January 2021 (1)</a></li>
	<li><a href='/mathemafrica/m=202011.html'>November 2020 (2)</a></li>
	<li><a href='/mathemafrica/m=202010.html'>October 2020 (1)</a></li>
	<li><a href='/mathemafrica/m=202008.html'>August 2020 (1)</a></li>
	<li><a href='/mathemafrica/m=202005.html'>May 2020 (3)</a></li>
	<li><a href='/mathemafrica/m=202003.html'>March 2020 (4)</a></li>
	<li><a href='/mathemafrica/m=202002.html'>February 2020 (2)</a></li>
	<li><a href='/mathemafrica/m=202001.html'>January 2020 (1)</a></li>
	<li><a href='/mathemafrica/m=201912.html'>December 2019 (2)</a></li>
	<li><a href='/mathemafrica/m=201911.html'>November 2019 (1)</a></li>
	<li><a href='/mathemafrica/m=201910.html'>October 2019 (3)</a></li>
	<li><a href='/mathemafrica/m=201909.html'>September 2019 (6)</a></li>
	<li><a href='/mathemafrica/m=201908.html'>August 2019 (6)</a></li>
	<li><a href='/mathemafrica/m=201907.html'>July 2019 (22)</a></li>
	<li><a href='/mathemafrica/m=201906.html'>June 2019 (3)</a></li>
	<li><a href='/mathemafrica/m=201905.html'>May 2019 (7)</a></li>
	<li><a href='/mathemafrica/m=201904.html'>April 2019 (1)</a></li>
	<li><a href='/mathemafrica/m=201903.html'>March 2019 (2)</a></li>
	<li><a href='/mathemafrica/m=201902.html'>February 2019 (1)</a></li>
	<li><a href='/mathemafrica/m=201901.html'>January 2019 (1)</a></li>
	<li><a href='/mathemafrica/m=201812.html'>December 2018 (1)</a></li>
	<li><a href='/mathemafrica/m=201811.html'>November 2018 (1)</a></li>
	<li><a href='/mathemafrica/m=201810.html'>October 2018 (6)</a></li>
	<li><a href='/mathemafrica/m=201809.html'>September 2018 (3)</a></li>
	<li><a href='/mathemafrica/m=201808.html'>August 2018 (3)</a></li>
	<li><a href='/mathemafrica/m=201807.html'>July 2018 (3)</a></li>
	<li><a href='/mathemafrica/m=201806.html'>June 2018 (3)</a></li>
	<li><a href='/mathemafrica/m=201805.html'>May 2018 (11)</a></li>
	<li><a href='/mathemafrica/m=201804.html'>April 2018 (3)</a></li>
	<li><a href='/mathemafrica/m=201803.html'>March 2018 (4)</a></li>
	<li><a href='/mathemafrica/m=201802.html'>February 2018 (3)</a></li>
	<li><a href='/mathemafrica/m=201801.html'>January 2018 (14)</a></li>
	<li><a href='/mathemafrica/m=201712.html'>December 2017 (2)</a></li>
	<li><a href='/mathemafrica/m=201711.html'>November 2017 (7)</a></li>
	<li><a href='/mathemafrica/m=201710.html'>October 2017 (5)</a></li>
	<li><a href='/mathemafrica/m=201709.html'>September 2017 (4)</a></li>
	<li><a href='/mathemafrica/m=201708.html'>August 2017 (6)</a></li>
	<li><a href='/mathemafrica/m=201707.html'>July 2017 (3)</a></li>
	<li><a href='/mathemafrica/m=201706.html'>June 2017 (4)</a></li>
	<li><a href='/mathemafrica/m=201705.html'>May 2017 (3)</a></li>
	<li><a href='/mathemafrica/m=201704.html'>April 2017 (3)</a></li>
	<li><a href='/mathemafrica/m=201702.html'>February 2017 (1)</a></li>
	<li><a href='/mathemafrica/m=201701.html'>January 2017 (1)</a></li>
	<li><a href='/mathemafrica/m=201612.html'>December 2016 (3)</a></li>
	<li><a href='/mathemafrica/m=201611.html'>November 2016 (1)</a></li>
	<li><a href='/mathemafrica/m=201610.html'>October 2016 (4)</a></li>
	<li><a href='/mathemafrica/m=201609.html'>September 2016 (1)</a></li>
	<li><a href='/mathemafrica/m=201608.html'>August 2016 (8)</a></li>
	<li><a href='/mathemafrica/m=201607.html'>July 2016 (5)</a></li>
	<li><a href='/mathemafrica/m=201606.html'>June 2016 (2)</a></li>
	<li><a href='/mathemafrica/m=201605.html'>May 2016 (4)</a></li>
	<li><a href='/mathemafrica/m=201604.html'>April 2016 (11)</a></li>
	<li><a href='/mathemafrica/m=201603.html'>March 2016 (24)</a></li>
	<li><a href='/mathemafrica/m=201602.html'>February 2016 (10)</a></li>
	<li><a href='/mathemafrica/m=201601.html'>January 2016 (13)</a></li>
	<li><a href='/mathemafrica/m=201512.html'>December 2015 (5)</a></li>
	<li><a href='/mathemafrica/m=201511.html'>November 2015 (42)</a></li>
	<li><a href='/mathemafrica/m=201510.html'>October 2015 (14)</a></li>
	<li><a href='/mathemafrica/m=201509.html'>September 2015 (22)</a></li>
	<li><a href='/mathemafrica/m=201508.html'>August 2015 (46)</a></li>
	<li><a href='/mathemafrica/m=201507.html'>July 2015 (17)</a></li>
	<li><a href='/mathemafrica/m=201506.html'>June 2015 (10)</a></li>
	<li><a href='/mathemafrica/m=201505.html'>May 2015 (4)</a></li>
	<li><a href='/mathemafrica/m=201504.html'>April 2015 (3)</a></li>
	<li><a href='/mathemafrica/m=201503.html'>March 2015 (5)</a></li>
	<li><a href='/mathemafrica/m=201502.html'>February 2015 (2)</a></li>
	<li><a href='/mathemafrica/m=201412.html'>December 2014 (3)</a></li>
	<li><a href='/mathemafrica/m=201411.html'>November 2014 (4)</a></li>
		</ul>
		<div style="clear:both;"></div></div>																																				</div>
																																								<div class="fusion-column fusion-column-last col-lg-4 col-md-4 col-sm-4">
												<div id="traffic-stats" class="fusion-footer-widget-column widget widget_traffic_stats"><h4 class="widget-title">Blog Traffic</h4>
<strong> <p id="tsw_stats_title">Pages</p></strong>

<p id="tswmenu"><a href="javascript:tsw_show('pages','/mathemafrica/wp-content/plugins/traffic-stats-widget/TSW-loading.gif', 'http://localhost')" target="_self">Pages</a>|<a href="javascript:tsw_show('hits','/mathemafrica/wp-content/plugins/traffic-stats-widget/TSW-loading.gif', 'http://localhost')" target="_self" >Hits </a>|<a href="javascript:tsw_show('unique','/mathemafrica/wp-content/plugins/traffic-stats-widget/TSW-loading.gif', 'http://localhost')" target="_self" >Unique</a></p>

  
  <ul>
  <li>Last 24 hours: <span id='tsw_lds'>0</span></li>
  <li>Last 7 days: <span id='tsw_lws'>0</span></li>
  <li>Last 30 days: <span id='tsw_lms'>0</span></li>
  <li>Online now: 0</li>
  </ul>
<div align="center" style="display:none;"><small><a href="http://garcinia-cambogia.fr/" target="_blank">garcinia cambogia effets secondaires</a></small></div> 

<div style="clear:both;"></div></div>																																				</div>
																																																																												
									<div class="fusion-clearfix"></div>
								</div> <!-- fusion-columns -->
							</div> <!-- fusion-row -->
						</footer> <!-- fusion-footer-widget-area -->
					
																
						<footer id="footer" class="fusion-footer-copyright-area">
							<div class="fusion-row">
								<div class="fusion-copyright-content">

											<div class="fusion-copyright-notice">
			<div>A project initiated at the AIMS-IMAGINARY workshop, November 2014, Cape Town | All Rights Reserved </div>
		</div>
					<div class="fusion-social-links-footer">
				<div class="fusion-social-networks"><div class="fusion-social-networks-wrapper"><a  class="fusion-social-network-icon fusion-tooltip fusion-facebook fusion-icon-facebook" style="color:#ff5500;" social_network="facebook" social_link="https://www.facebook.com/groups/Mathemafrica/" icon_color="#ff5500" box_color="#222222" last href="https://www.facebook.com/groups/Mathemafrica/" target="_blank" title="Facebook"><span class="screen-reader-text">Facebook</span></a><a  class="fusion-social-network-icon fusion-tooltip fusion-twitter fusion-icon-twitter" style="color:#ff5500;" social_network="twitter" social_link="https://twitter.com/Mathemafrica" icon_color="#ff5500" box_color="#222222" last href="https://twitter.com/Mathemafrica" target="_blank" title="Twitter"><span class="screen-reader-text">Twitter</span></a><a  class="fusion-social-network-icon fusion-tooltip fusion-linkedin fusion-icon-linkedin" style="color:#ff5500;" social_network="linkedin" social_link="https://www.linkedin.com/groups/Mathemafrica-8300992" icon_color="#ff5500" box_color="#222222" last href="https://www.linkedin.com/groups/Mathemafrica-8300992" target="_blank" title="Linkedin"><span class="screen-reader-text">Linkedin</span></a></div></div>			</div>
		
								</div> <!-- fusion-fusion-copyright-content -->
							</div> <!-- fusion-row -->
						</footer> <!-- #footer -->
									</div> <!-- fusion-footer -->
					</div> <!-- wrapper -->

				
		<a class="fusion-one-page-text-link fusion-page-load-link"></a>

		<!-- W3TC-include-js-head -->

							<!-- This site's ratings are powered by RatingWidget plugin v2.8.1 (Free version) - https://rating-widget.com/wordpress-plugin/ -->
					<div class="rw-js-container">
												<script type="text/javascript">
							var defaultRateCallbacks = {};

							// Initialize ratings.
							function RW_Async_Init() {
								RW.init({uid: "d35d59066b326a435323290116bf9b4f", huid: "255305",
									source: "wordpress",
									options: {
																	},
								identifyBy: "laccount"
							});
														var options = {"urid":"3","theme":"star_flat_yellow","rclass":"blog-post","isDummy":false,"size":"medium","type":"star","boost":{"votes":0,"rate":5},"imgUrl":{"ltr":"","rtl":""},"mobile":{"optimized":true,"showTrigger":true},"label":{"text":{"star":{"empty":"{{text.rateThis}}","normal":"{{text.rateThis}} ({{rating.votes}} {{text.votes}})","rated":"{{rating.votes}} {{text.votes}}"},"nero":{"empty":"{{text.rateThis}}","normal":"{{text.rateThis}}","rated":"{{rating.votes}} {{text.votes}}"}},"background":"#FFFFFF"},"advanced":{"star":{"stars":5},"nero":{"text":{"like":{"empty":"{{rating.likes}}","rated":"{{rating.likes}}"},"dislike":{"empty":"{{rating.dislikes}}","rated":"{{rating.dislikes}}"}},"showDislike":true,"showLike":true},"font":{"hover":{"color":"#000000"},"bold":false,"italic":false,"color":"#000000","size":"16px","type":"inherit"},"layout":{"align":{"hor":"right","ver":"middle"},"dir":"ltr","lineHeight":"20px"},"text":{"rateAwful":"Awful","ratePoor":"Poor","rateAverage":"Average","rateGood":"Good","rateExcellent":"Excellent","rateThis":"Rate this","like":"Like","dislike":"Dislike","vote":"Vote","votes":"Votes","thanks":"Thank You","outOf":"out of","weRecommend":"We Recommend"},"css":{"container":""}},"uarid":0,"lng":"en","url":"","img":"","title":"","style":"flat_yellow","readOnly":false,"sync":true,"forceSync":false,"reVote":true,"frequency":-1,"showInfo":true,"showTooltip":true,"showAverage":true,"showReport":true,"showRecommendations":false,"hideRecommendations":false,"showSponsored":false,"showLoader":true,"beforeRate":null,"afterRate":null};
														
							RW.initClass("blog-post", options);
							RW.initRating("170430", {title: "CRL Task 3: Counterfactual Decision Making", url: "\/mathemafrica\/p=17042.html"});							RW.render(function () {
								(function ($) {
									$('.rw-rating-table:not(.rw-no-labels):not(.rw-comment-admin-rating)').each(function () {
										var ratingTable = $(this);

										// Find the current width before floating left or right to
										// keep the ratings aligned
										var col1 = ratingTable.find('td:first');
										var widthCol1 = col1.width();
										ratingTable.find('td:first-child').width(widthCol1);

										if (ratingTable.hasClass('rw-rtl')) {
											ratingTable.find('td').css({float: 'right'});
										} else {
											ratingTable.find('td').css({float: 'left'});
										}
									});
								})(jQuery);
							}, true);
							}

							RW_Advanced_Options = {
								blockFlash: !(1)
							};

							// Append RW JS lib.
							if (typeof(RW) == "undefined") {
								(function () {
									var rw = document.createElement("script");
									rw.type = "text/javascript";
									rw.async = true;
									rw.src = "http://js.rating-widget.com/external.min.js?ck=Y2025M03D21?wp=2.8.1";
									var s = document.getElementsByTagName("script")[0];
									s.parentNode.insertBefore(rw, s);
								})();
							}
						</script>
					</div>
					<!-- / RatingWidget plugin -->
						<div style="display:none">
	<div class="grofile-hash-map-9b4baba7bc85ca35ac84559a5c1111bd">
	</div>
	<div class="grofile-hash-map-2afa2ce02e4446512fa8692b058b6a19">
	</div>
	<div class="grofile-hash-map-9b4baba7bc85ca35ac84559a5c1111bd">
	</div>
	<div class="grofile-hash-map-402a703b75b68d0bc7a0e59911e67b08">
	</div>
	<div class="grofile-hash-map-26368babdb23340d3dbce1095ec672e3">
	</div>
	<div class="grofile-hash-map-6220c486bc610466530f3c1e5fd53ad2">
	</div>
	</div>

	<script type="text/javascript">
		window.WPCOM_sharing_counts = {"\/mathemafrica\/p=17042.html":17042};
	</script>
		<script type="text/javascript">
			var windowOpen;
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-twitter' ).on( 'click', function() {
				if ( 'undefined' !== typeof windowOpen ){ // If there's another sharing window open, close it.
					windowOpen.close();
				}
				windowOpen = window.open( jQuery(this).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
			var windowOpen;
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-facebook' ).on( 'click', function() {
				if ( 'undefined' !== typeof windowOpen ){ // If there's another sharing window open, close it.
					windowOpen.close();
				}
				windowOpen = window.open( jQuery(this).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
			var windowOpen;
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-google-plus-1' ).on( 'click', function() {
				if ( 'undefined' !== typeof windowOpen ){ // If there's another sharing window open, close it.
					windowOpen.close();
				}
				windowOpen = window.open( jQuery(this).attr( 'href' ), 'wpcomgoogle-plus-1', 'menubar=1,resizable=1,width=480,height=550' );
				return false;
			});
		});
		</script>
		<script type='text/javascript' src='/mathemafrica/wp-content/plugins/akismet/_inc/form.js?ver=3.1.11'></script>

							<div id="lang_sel_footer">
									<ul>
									    <li><a href="/mathemafrica/p=17042.html" class="lang_sel_sel"><span class="icl_lang_sel_current icl_lang_sel_native">English</span></a></li>
									</ul>
							</div><script type='text/javascript' src='/mathemafrica/wp-content/plugins/jetpack/modules/photon/photon.js?ver=20130122'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=202512'></script>
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?ver=2025Maraa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='/mathemafrica/wp-content/plugins/jetpack/modules/wpgroho.js?ver=4.4.33'></script>
<script type='text/javascript' src='/mathemafrica/wp-includes/js/comment-reply.min.js?ver=4.4.33'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var toTopscreenReaderText = {"label":"Go to Top"};
var js_local_vars = {"admin_ajax":"\/mathemafrica\/wp-admin\/admin-ajax.php","admin_ajax_nonce":"a217dd62be","protocol":"","theme_url":"\/mathemafrica\/wp-content\/themes\/Avada","dropdown_goto":"Go to...","mobile_nav_cart":"Shopping Cart","page_smoothHeight":"false","flex_smoothHeight":"false","language_flag":"en","infinite_blog_finished_msg":"<em>All posts displayed.<\/em>","infinite_finished_msg":"<em>All items displayed.<\/em>","infinite_blog_text":"<em>Loading the next set of posts...<\/em>","portfolio_loading_text":"<em>Loading Portfolio Items...<\/em>","faqs_loading_text":"<em>Loading FAQ Items...<\/em>","order_actions":"Details","avada_rev_styles":"1","avada_styles_dropdowns":"1","blog_grid_column_spacing":"40","blog_pagination_type":"Pagination","carousel_speed":"2500","counter_box_speed":"1000","content_break_point":"800","disable_mobile_animate_css":"0","disable_mobile_image_hovers":"1","portfolio_pagination_type":"Pagination","form_bg_color":"#ffffff","header_transparency":"0","header_padding_bottom":"0px","header_padding_top":"0px","header_position":"Top","header_sticky":"1","header_sticky_tablet":"1","header_sticky_mobile":"0","header_sticky_type2_layout":"menu_only","sticky_header_shrinkage":"1","is_responsive":"1","is_ssl":"false","isotope_type":"masonry","layout_mode":"wide","lightbox_animation_speed":"Fast","lightbox_arrows":"1","lightbox_autoplay":"0","lightbox_behavior":"all","lightbox_desc":"1","lightbox_deeplinking":"1","lightbox_gallery":"1","lightbox_opacity":"0.8","lightbox_path":"vertical","lightbox_post_images":"0","lightbox_skin":"metro-white","lightbox_slideshow_speed":"5000","lightbox_social":"1","lightbox_title":"1","lightbox_video_height":"720","lightbox_video_width":"1280","logo_alignment":"Left","logo_margin_bottom":"31px","logo_margin_top":"31px","megamenu_max_width":"1100","mobile_menu_design":"classic","nav_height":"83","nav_highlight_border":"3","page_title_fading":"0","pagination_video_slide":"0","related_posts_speed":"2500","submenu_slideout":"0","side_header_break_point":"1023","sidenav_behavior":"Hover","site_width":"1100px","slider_position":"above","slideshow_autoplay":"1","slideshow_speed":"7000","smooth_scrolling":"0","status_lightbox":"1","status_totop_mobile":"1","status_vimeo":"1","status_yt":"1","testimonials_speed":"4000","tfes_animation":"sides","tfes_autoplay":"1","tfes_interval":"3000","tfes_speed":"800","tfes_width":"150","title_style_type":"double","title_margin_top":"0px","title_margin_bottom":"31px","typography_responsive":"0","typography_sensitivity":"0.6","typography_factor":"1.5","woocommerce_shop_page_columns":"","side_header_width":"0"};
/* ]]> */
</script>
<script type='text/javascript' src='/mathemafrica/wp-content/themes/Avada/assets/js/main.min.js?ver=4.0.2' async ></script> 
<script type='text/javascript' src='/mathemafrica/wp-includes/js/wp-embed.min.js?ver=4.4.33'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var icl_vars = {"current_language":"en","icl_home":"http:\/\/localhost","ajax_url":"\/mathemafrica\/wp-admin\/admin-ajax.php","url_type":"3"};
/* ]]> */
</script>
<script type='text/javascript' src='/mathemafrica/wp-content/plugins/sitepress-multilingual-cms/res/js/sitepress.js?ver=4.4.33'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var sharing_js_options = {"lang":"en","counts":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='/mathemafrica/wp-content/plugins/jetpack/modules/sharedaddy/sharing.js?ver=4.0.7'></script>

		<!--[if IE]>
		<script type="text/javascript">
		if ( 0 === window.location.hash.indexOf( '#comment-' ) ) {
			// window.location.reload() doesn't respect the Hash in IE
			window.location.hash = window.location.hash;
		}
		</script>
		<![endif]-->
		<script type="text/javascript">
			var comm_par_el = document.getElementById( 'comment_parent' ),
			    comm_par = (comm_par_el && comm_par_el.value) ? comm_par_el.value : '',
			    frame = document.getElementById( 'jetpack_remote_comment' ),
			    tellFrameNewParent;

			tellFrameNewParent = function() {
				if ( comm_par ) {
					frame.src = "https://jetpack.wordpress.com/jetpack-comment/?blogid=96869864&postid=17042&comment_registration=0&require_name_email=1&stc_enabled=0&stb_enabled=1&show_avatars=1&avatar_default=mystery&greeting=Leave+a+Reply&greeting_reply=Leave+a+Reply+to+%25s&color_scheme=light&lang=en_US&jetpack_version=4.0.7&sig=65d0f3da2dd333e061f242e9d9bc986aeb532fac#parent=http%3A%2F%2Fwww.mathemafrica.org%2F%3Fp%3D17042" + '&replytocom=' + parseInt( comm_par, 10 ).toString();
				} else {
					frame.src = "https://jetpack.wordpress.com/jetpack-comment/?blogid=96869864&postid=17042&comment_registration=0&require_name_email=1&stc_enabled=0&stb_enabled=1&show_avatars=1&avatar_default=mystery&greeting=Leave+a+Reply&greeting_reply=Leave+a+Reply+to+%25s&color_scheme=light&lang=en_US&jetpack_version=4.0.7&sig=65d0f3da2dd333e061f242e9d9bc986aeb532fac#parent=http%3A%2F%2Fwww.mathemafrica.org%2F%3Fp%3D17042";
				}
			};

	
			if ( 'undefined' !== typeof addComment ) {
				addComment._Jetpack_moveForm = addComment.moveForm;

				addComment.moveForm = function( commId, parentId, respondId, postId ) {
					var returnValue = addComment._Jetpack_moveForm( commId, parentId, respondId, postId ), cancelClick, cancel;

					if ( false === returnValue ) {
						cancel = document.getElementById( 'cancel-comment-reply-link' );
						cancelClick = cancel.onclick;
						cancel.onclick = function() {
							var cancelReturn = cancelClick.call( this );
							if ( false !== cancelReturn ) {
								return cancelReturn;
							}

							if ( !comm_par ) {
								return cancelReturn;
							}

							comm_par = 0;

							tellFrameNewParent();

							return cancelReturn;
						};
					}

					if ( comm_par == parentId ) {
						return returnValue;
					}

					comm_par = parentId;

					tellFrameNewParent();

					return returnValue;
				};
			}

	
			if ( window.postMessage ) {
				if ( document.addEventListener ) {
					window.addEventListener( 'message', function( event ) {
						if ( "https:\/\/jetpack.wordpress.com" !== event.origin ) {
							return;
						}

						jQuery( frame ).height( event.data );
					} );
				} else if ( document.attachEvent ) {
					window.attachEvent( 'message', function( event ) {
						if ( "https:\/\/jetpack.wordpress.com" !== event.origin ) {
							return;
						}

						jQuery( frame ).height( event.data );
					} );
				}
			}
		</script>

	<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:4.0.7',blog:'96869864',post:'17042',tz:'0',srv:'www.mathemafrica.org'} ]);
	_stq.push([ 'clickTrackerInit', '96869864', '17042' ]);
</script>

		
	</body>
</html>
